import{a as y}from"./chunk-B7NPBJ6H.js";var p=(n,...e)=>`${n}${e.length?`-${e.join("-")}`:""}`,qt=n=>{let e=n.split("-");return{action:e[0],args:e.slice(1)}};import{ButtonStyle as De,ComponentType as ee}from"discord-api-types/v10";import{escapeBold as We}from"discord.js";var Qt=async(n,e,o)=>{let t=await(o===void 0?n.users.fetch(e):n.guilds.cache.get(o).members.fetch(e).catch(()=>n.users.fetch(e))),i=t.displayAvatarURL({extension:"png",forceStatic:!1,size:4096});return{content:`Avatar di **[${We("nickname"in t?t.nickname??t.user.username:t.username)}](${i} )**:`,components:[{type:ee.ActionRow,components:[{type:ee.Button,url:i,style:De.Link,label:"Apri l'originale"}]}]}};var ze=(n,e)=>`\x1B[${e}m${n}\x1B[m`,te=ze;import{ActivityType as Wt}from"discord-api-types/v10";import{Client as zt,Options as Ne,Partials as $}from"discord.js";import{createWriteStream as Gt}from"node:fs";import{readdir as Ut}from"node:fs/promises";import{stderr as Lt,stdout as _t}from"node:process";import{inspect as Kt}from"node:util";import{ButtonStyle as ne,ComponentType as P,OAuth2Scopes as Le,PermissionFlagsBits as G}from"discord-api-types/v10";import{escapeMarkdown as _e}from"discord.js";import Ke from"ms";import{createReadStream as Ge,createWriteStream as Ue}from"node:fs";var W=class{promises=[];wait(){let e,o=this.promises.at(-1)?.promise??Promise.resolve(),t=new Promise(i=>{e=i});return this.promises.push({resolve:e,promise:t}),o}next(){this.promises.shift()?.resolve()}},z=W;var O={},M={},k=async(n,e=!1)=>{if(await(O[n]??=new z).wait(),O[n].next(),M[n]!==void 0&&!e)return M[n];let o="";return new Promise((t,i)=>{Ge(`./${y.databaseFolderName}/${n}.json`).on("data",r=>o+=r).once("end",()=>{try{t(M[n]=JSON.parse(o))}catch(r){i(r)}}).once("error",i).setEncoding("utf8")})},S=async(n,e)=>{if(await(O[n]??=new z).wait(),M[n]===e)return;M[n]=e;let o=new Promise((t,i)=>{Ue(`./${y.databaseFolderName}/${n}.json`).once("error",i).setDefaultEncoding("utf8").end(JSON.stringify(e),t)});return o.finally(O[n].next.bind(O[n])),o};var oe=async(n,e,...o)=>{let t=await k("timeouts"),i=Date.now()+e,r=setTimeout(async()=>{await Promise.all([import(`./util/timeouts/${n}.js`).then(a=>a.default(...o)),k("timeouts").then(a=>S("timeouts",a.filter(s=>s.date!==i)))])},e).unref();return await S("timeouts",[...t,{date:i,name:n,args:o}]),r};var lo=async(n,e,o,t,i,r,a)=>{let s=n.guilds.cache.get(o),m=t===void 0?null:await s.members.fetch(t).catch(()=>null),l=t!==s.ownerId;if(l&&m?.permissions.has(G.BanMembers)!==!0)return{content:`Non hai abbastanza permessi per usare questo comando!
Permessi richiesti: **Bannare i membri**`,ephemeral:!0};let u=await s.members.fetch(e).catch(()=>null);if(e===s.ownerId)return{content:"Non puoi bannare il proprietario del server!",ephemeral:!0};let d=u?.roles.highest.rawPosition;if(u&&m&&l&&m.roles.highest.rawPosition<=d)return{content:"Non puoi bannare un membro con un ruolo superiore o uguale al tuo!",ephemeral:!0};let c=a!==void 0?Ke(a):void 0,v=c===void 0;if(!v&&c<6e4)return{content:"La durata deve essere maggiore di 1 minuto!",ephemeral:!0};let{me:b}=s.members;if(!b.permissions.has(G.BanMembers))return{content:`Non ho i permessi per bannare membri!
Per favore, autorizzami cliccando il pulsante qui sotto.`,components:[{type:P.ActionRow,components:[{type:P.Button,url:`https://discord.com/api/oauth2/authorize?client_id=${n.application.id}&permissions=${G.BanMembers|b.permissions.bitfield}&scope=${Le.Bot}&guild_id=${o}`,label:"Autorizza",style:ne.Link}]}]};if(u&&b.roles.highest.rawPosition<=d)return{content:"Non posso bannare un membro con un ruolo maggiore o uguale al mio!",ephemeral:!0};let h=v?void 0:Math.round((Date.now()+c)/1e3);return Promise.all([u?.user??n.users.fetch(e),s.members.ban(e,{reason:`${m?`Bannato da ${m.user.tag} (${t})`:""}${i==null?"":`${m?": ":""}${i}`}`,deleteMessageDays:Number(r)||void 0}),v?void 0:oe("unbann",c,o,e)]).then(([R])=>({content:`<@${e}> (${_e(R.tag)} - ${e}) \xE8 stato bannato dal server${v?"":` fino a <t:${h}:F> (<t:${h}:R>)`}!${i==null?"":`

Motivo: ${i.length>1e3?`${i.slice(0,1e3)}...`:i}`}`,components:[{type:P.ActionRow,components:[{type:P.Button,label:"Revoca bann",style:ne.Danger,custom_id:p("unbann",e,o,t)}]}]})).catch(R=>(f.printToStderr(R),{content:`Si \xE8 verificato un errore: \`${R.message}\``,ephemeral:!0}))};import{ButtonStyle as qe,ComponentType as ie}from"discord-api-types/v10";import{escapeBold as Ve}from"discord.js";var yo=async(n,e)=>{let o=await n.users.fetch(e,{force:!0}),t=o.bannerURL({extension:"png",forceStatic:!1,size:4096});return t==null?{content:"Questo utente non ha un banner!",ephemeral:!0}:{content:`Banner di **[${Ve(o.username)}](${t} )**:`,components:[{type:ie.ActionRow,components:[{type:ie.Button,url:t,style:qe.Link,label:"Apri l'originale"}]}]}};import{ButtonStyle as re,ComponentType as U,PermissionFlagsBits as Fe}from"discord-api-types/v10";import{Colors as He}from"discord.js";var $o=async(n,e,o="0",t)=>{let i=n.guilds.cache.get(e),r=t===void 0?null:await i.members.fetch(t).catch(()=>null);if(t!==i.ownerId&&r?.permissions.has(Fe.BanMembers)!==!0)return{content:`Non hai abbastanza permessi per usare questo comando!
Permessi richiesti: **Bannare i membri**`,ephemeral:!0};let s=Number(o),m=s*25+25,l=(i.bans.cache.size?i.bans.cache:await i.bans.fetch()).clone().reverse(),{size:u}=l,d=[...l.values()].slice(s*25,m);return{embeds:[{title:"Membri bannati",fields:d.map(c=>({name:`${c.user.tag} (${c.user.id})`,value:c.reason!=null?c.reason.length>1024?`${c.reason.slice(0,1021)}...`:c.reason:"Nessuna motivazione"})),footer:{text:`Pagina ${s+1}/${Math.ceil(u/25)}`},description:d.length===0?"Nessun bann trovato!":void 0,author:{name:i.name,icon_url:i.iconURL({extension:"png",forceStatic:!1,size:4096})??void 0},color:He.Blurple,timestamp:new Date().toISOString()}],components:[{type:U.ActionRow,components:[{type:U.Button,custom_id:p("bannList",e,`${s-1}`,t,"true"),style:re.Primary,disabled:o==="0",emoji:{name:"\u2B05"},label:"Precedente"},{type:U.Button,custom_id:p("bannList",e,`${s+1}`,t,"true"),style:re.Primary,disabled:m>=u,emoji:{name:"\u27A1"},label:"Successivo"}]}]}};import{Colors as se}from"discord.js";import{join as Qe}from"node:path";import{cwd as Je}from"node:process";import{pool as Ye}from"workerpool";var ae,me=!1,pe=async(n,e,o)=>{if(!me)return(ae??=Ye(Qe(Je(),"dist/util/workers/math.js"),{maxWorkers:1})).exec("evaluate",["0"]).then(()=>me=!0).catch(f.printToStderr),{content:"La calcolatrice \xE8 in fase di inizializzazione, riprova tra qualche secondo..."};let t=await ae.exec("evaluate",[e,o==="true"]).timeout(2e3).catch(r=>r),i=typeof t!="string";return{embeds:[{title:"Calcolatrice",fields:[{name:"\u{1F4DD} Operazione",value:`\`${e}\``},{name:`\u{1F4DD} ${i?"Errore":"Risultato"}`,value:i?t instanceof Error?t.message:"Errore":t.slice(0,1024)}],color:i?se.Red:se.Blurple,timestamp:new Date().toISOString()}],ephemeral:i}};import{ButtonStyle as L,ComponentType as A}from"discord-api-types/v10";import{env as Ze}from"node:process";import{request as Xe}from"undici";var Co=()=>Xe("https://api.thecatapi.com/v1/images/search?order=RANDOM&limit=1&format=json",{method:"GET",headers:{"x-api-key":Ze.CAT_API_KEY}}).then(n=>n.body.json()).then(([{url:n}])=>({content:`[Meow!](${n}) \u{1F431}`,components:[{type:A.ActionRow,components:[{type:A.Button,url:n,style:L.Link,label:"Apri l'originale"},{type:A.Button,style:L.Success,label:"Un altro!",custom_id:p("cat"),emoji:{name:"\u{1F431}"}}]}]})).catch(n=>(f.printToStderr(n),{content:"Errore nella richiesta.",components:[{type:A.ActionRow,components:[{type:A.Button,style:L.Danger,label:"Riprova",custom_id:p("cat")}]}]}));import{TimestampStyles as ce}from"@discordjs/builders";import{ButtonStyle as le,ComponentType as x,GuildPremiumTier as j,OAuth2Scopes as et,PermissionFlagsBits as _}from"discord-api-types/v10";import{escapeBold as tt,GuildEmoji as ot}from"discord.js";import{Buffer as nt}from"node:buffer";var ue={[j.None]:50,[j.Tier1]:100,[j.Tier2]:150,[j.Tier3]:250},Lo=async(n,e,o,t,i,r,...a)=>{let s=n.guilds.cache.get(e),m=i===void 0?null:await s.members.fetch(i).catch(()=>null);if(i!==s.ownerId&&m?.permissions.has(_.ManageEmojisAndStickers)!==!0)return{content:`Non hai abbastanza permessi per usare questo comando!
Permessi richiesti: **Gestire emoji e adesivi**`,ephemeral:!0};if(t.length<2||t.length>32)return{content:"Il nome dell'emoji deve essere compreso tra 2 e 32 caratteri!",ephemeral:!0};if(!/^[a-zA-Z0-9-_]+$/.test(t))return{content:"Il nome dell'emoji deve essere composto solo da caratteri alfanumerici e trattini bassi!",ephemeral:!0};if(o instanceof nt&&o.byteLength>=256*1024)return{content:"L'immagine deve essere inferiore di 256KB!",ephemeral:!0};if(s.emojis.cache.size>=ue[s.premiumTier])return{content:`Limite emoji raggiunto (${ue[s.premiumTier]})!`,ephemeral:!0};let{me:u}=s.members;if(!u.permissions.has(_.ManageEmojisAndStickers))return{content:`Non ho i permessi per aggiungere emoji!
Per favore, autorizzami cliccando il pulsante qui sotto.`,components:[{type:x.ActionRow,components:[{type:x.Button,url:`https://discord.com/api/oauth2/authorize?client_id=${n.application.id}&permissions=${_.ManageEmojisAndStickers|u.permissions.bitfield}&scope=${et.Bot}&guild_id=${e}`,label:"Autorizza",style:le.Link}]}]};let d=await s.emojis.create({attachment:o,name:t,reason:`${m?`Aggiunta da ${m.user.tag} (${i})`:""}${r==null?"":`${m?": ":""}${r}`}`,roles:a}).catch(h=>(f.printToStderr(h),{content:`Si \xE8 verificato un errore: \`${h.message}\``,ephemeral:!0}));if(!(d instanceof ot))return d;let c=Math.round(d.createdTimestamp/1e3),v=[{type:x.ActionRow,components:[{type:x.Button,custom_id:p("emojiList",e),label:"Lista emoji",style:le.Primary,emoji:{animated:d.animated??!1,name:d.name??void 0,id:d.id}}]}],b=d.roles;return{content:`${d.toString()} Emoji [${d.name}](${d.url}) aggiunta con successo! (${d.id})

Animata: **${d.animated??!1?"S\xEC":"No"}**
Creata <t:${c}:${ce.LongDateTime}> (<t:${c}:${ce.RelativeTime}>)${b.cache.size>0?`
Ruoli consentiti: ${b.cache.map(h=>`<@&${h.id}> (**${tt(h.name)}**)`).join(", ")}`:""}`,components:v}};import{ButtonStyle as it,ComponentType as de,OAuth2Scopes as rt,PermissionFlagsBits as K}from"discord-api-types/v10";var Vo=async(n,e,o,t,i)=>{let r=n.guilds.cache.get(o),a=t===void 0?null:await r.members.fetch(t).catch(()=>null);if(t!==r.ownerId&&a?.permissions.has(K.ManageEmojisAndStickers)!==!0)return{content:`Non hai abbastanza permessi per usare questo comando!
Permessi richiesti: **Gestire emoji e adesivi**`,ephemeral:!0};let m=r.emojis.cache.find(u=>u.id===e||u.name===e||u.toString()===e);if(!m)return{content:"Emoji non trovata! Specifica il nome completo o l'id.",ephemeral:!0};if(m.managed??!1)return{content:"Questa emoji \xE8 gestita da un'integrazione e non pu\xF2 essere eliminata. Rimuovi l'integrazione per cancellarla.",ephemeral:!0};let{me:l}=r.members;return l.permissions.has(K.ManageEmojisAndStickers)?m.delete(i).then(()=>({content:`Emoji \`:${m.name??"emoji"}:\` rimossa con successo!`})).catch(u=>(f.printToStderr(u),{content:`Si \xE8 verificato un errore: \`${u.message}\``,ephemeral:!0})):{content:`Non ho i permessi per rimuovere emoji!
Per favore, autorizzami cliccando il pulsante qui sotto.`,components:[{type:de.ActionRow,components:[{type:de.Button,url:`https://discord.com/api/oauth2/authorize?client_id=${n.application.id}&permissions=${K.ManageEmojisAndStickers|l.permissions.bitfield}&scope=${rt.Bot}&guild_id=${o}`,label:"Autorizza",style:it.Link}]}]}};import{ButtonStyle as at,ComponentType as fe}from"discord-api-types/v10";var st=(n,e)=>n===void 0?Math.random():Math.floor(Math.random()*(e-n+1))+n,w=st;var Zo=async(n,e="1")=>{let o=Number(e);if(o>100)return{content:"Non puoi lanciare pi\xF9 di 100 dadi!",ephemeral:!0};let t=[],i=0;for(let r=0;r<o;r++){let a=w(1,6);i+=a,t.push(a)}return{content:`\u{1F3B2} **${i}** (${t.join(", ")}) con ${o} dadi!`,components:[{type:fe.ActionRow,components:[{type:fe.Button,custom_id:p("dice",e),label:"Tira di nuovo!",style:at.Success,emoji:{name:"\u{1F3B2}"}}]}]}};import{ButtonStyle as q,ComponentType as T}from"discord-api-types/v10";import{env as mt}from"node:process";import{request as pt}from"undici";var sn=()=>pt("https://api.thedogapi.com/v1/images/search?order=RANDOM&limit=1&format=json",{method:"GET",headers:{"x-api-key":mt.DOG_API_KEY}}).then(n=>n.body.json()).then(([{url:n}])=>({content:`[Woof!](${n}) \u{1F436}`,components:[{type:T.ActionRow,components:[{type:T.Button,url:n,style:q.Link,label:"Apri l'originale"},{type:T.Button,style:q.Success,label:"Un altro!",custom_id:p("dog"),emoji:{name:"\u{1F436}"}}]}]})).catch(n=>(f.printToStderr(n),{content:"Errore nella richiesta.",components:[{type:T.ActionRow,components:[{type:T.Button,style:q.Danger,label:"Riprova",custom_id:p("dog")}]}]}));import{ButtonStyle as ct,ComponentType as he,OAuth2Scopes as lt,PermissionFlagsBits as V}from"discord-api-types/v10";var cn=async(n,e,o,t,i,r,...a)=>{let s=n.guilds.cache.get(o),m=i===void 0?null:await s.members.fetch(i).catch(()=>null);if(i!==s.ownerId&&m?.permissions.has(V.ManageEmojisAndStickers)!==!0)return{content:`Non hai abbastanza permessi per usare questo comando!
Permessi richiesti: **Gestire emoji e adesivi**`,ephemeral:!0};let u=s.emojis.cache.find(c=>c.id===e||c.name===e||c.toString()===e);if(!u)return{content:"Emoji non trovata! Specifica il nome completo o l'id.",ephemeral:!0};if(u.managed??!1)return{content:"Questa emoji \xE8 gestita da un'integrazione e non pu\xF2 essere modificata.",ephemeral:!0};let{me:d}=s.members;return d.permissions.has(V.ManageEmojisAndStickers)?u.edit({roles:a,name:t,reason:r}).then(c=>({content:`Emoji \`:${c.name??"emoji"}:\` modificata con successo!`})).catch(c=>(f.printToStderr(c),{content:`Si \xE8 verificato un errore: \`${c.message}\``,ephemeral:!0})):{content:`Non ho i permessi per gestire le emoji!
Per favore, autorizzami cliccando il pulsante qui sotto.`,components:[{type:he.ActionRow,components:[{type:he.Button,url:`https://discord.com/api/oauth2/authorize?client_id=${n.application.id}&permissions=${V.ManageEmojisAndStickers|d.permissions.bitfield}&scope=${lt.Bot}&guild_id=${o}`,label:"Autorizza",style:ct.Link}]}]}};import{TimestampStyles as ye}from"@discordjs/builders";import{ButtonStyle as ut,ComponentType as ge}from"discord-api-types/v10";import{escapeBold as be}from"discord.js";var yn=async(n,e,o)=>{let t=n.emojis.cache.get(e)??(o!==void 0?n.guilds.cache.get(o)?.emojis.cache.find(m=>m.id===e||m.name===e||m.toString()===e):void 0);if(!t)return{content:"Emoji non trovata! Specifica il nome completo o l'id.",ephemeral:!0};let i=Math.round(t.createdTimestamp/1e3),r=[],{roles:a}=t,s=t.author??await t.fetchAuthor().catch(()=>{});return o!==void 0&&r.push({type:ge.ActionRow,components:[{type:ge.Button,custom_id:p("emojiList",o),label:"Lista emoji",style:ut.Primary,emoji:{animated:t.animated??!1,name:t.name??void 0,id:t.id}}]}),{content:`${t.toString()} [${t.name??"emoji"}](${t.url}) (${t.id})

Animata: **${t.animated??!1?"S\xEC":"No"}**
Creata <t:${i}:${ye.LongDateTime}> (<t:${i}:${ye.RelativeTime}>))
Gestita da un integrazione: **${t.managed??!1?"S\xEC":"No"}**${s?`
Autore: <@${s.id}> (**${be(s.tag)}**)`:""}${a.cache.size>0?`
Ruoli consentiti: ${a.cache.map(m=>`<@&${m.id}> (**${be(m.name)}**)`).join(", ")}`:""}`,components:r}};import{TimestampStyles as ve}from"@discordjs/builders";import{ButtonStyle as ke,ComponentType as F}from"discord-api-types/v10";import{Colors as dt}from"discord.js";var Sn=async(n,e,o="0",t)=>{let i=Number(o),r=n.guilds.cache.get(e),a=i*25+25,s=[...r.emojis.cache.values()].slice(i*25,a);return{embeds:[{title:"Emoji del server",fields:s.map(m=>{let l=Math.round(m.createdTimestamp/1e3);return{name:m.name??"emoji",value:`${m.toString()} [${m.name??"emoji"}](<${m.url}>) - <t:${l}:${ve.LongDateTime}> (<t:${l}:${ve.RelativeTime}>)`}}),footer:{text:`Pagina ${i+1}/${Math.ceil(r.emojis.cache.size/25)}`},description:s.length===0?"Nessun emoji trovata!":void 0,author:{name:r.name,icon_url:r.iconURL({extension:"png",forceStatic:!1,size:4096})??void 0},color:dt.Blurple,timestamp:new Date().toISOString()}],components:[{type:F.ActionRow,components:[{type:F.Button,custom_id:p("emojiList",e,`${i-1}`,t,"true"),style:ke.Primary,disabled:o==="0",emoji:{name:"\u2B05"},label:"Precedente"},{type:F.Button,custom_id:p("emojiList",e,`${i+1}`,t,"true"),style:ke.Primary,disabled:a>=r.emojis.cache.size,emoji:{name:"\u27A1"},label:"Successivo"}]}]}};import{ButtonStyle as ft,ComponentType as $e}from"discord-api-types/v10";var On=async(n,e)=>{let o=`https://google.com/search?q=${encodeURIComponent(e)}`;return{content:o,components:[{type:$e.ActionRow,components:[{type:$e.Button,label:"Apri nel browser!",style:ft.Link,emoji:{name:"\u{1F50D}"},url:o}]}]}};import{ButtonStyle as ht,ComponentType as Se}from"discord-api-types/v10";import{escapeBold as yt}from"discord.js";var Rn=async(n,e)=>{let o=n.guilds.cache.get(e),t=o.iconURL({extension:"png",forceStatic:!1,size:4096});return t==null?{content:"Questo server non ha un'icona!",ephemeral:!0}:{content:`Icona di **[${yt(o.name)}](${t} )**:`,components:[{type:Se.ActionRow,components:[{type:Se.Button,url:t,style:ht.Link,label:"Apri l'originale"}]}]}};import{ButtonStyle as we,ComponentType as B,OAuth2Scopes as gt,PermissionFlagsBits as H}from"discord-api-types/v10";import{escapeMarkdown as bt}from"discord.js";var In=async(n,e,o,t,i)=>{let r=n.guilds.cache.get(o),a=t===void 0?null:await r.members.fetch(t).catch(()=>null),s=t!==r.ownerId;if(s&&a?.permissions.has(H.KickMembers)!==!0)return{content:`Non hai abbastanza permessi per usare questo comando!
Permessi richiesti: **Espelli membri**`,ephemeral:!0};let m=await r.members.fetch(e).catch(()=>null);if(!m)return{content:"L'utente non fa parte del server!",ephemeral:!0};if(e===r.ownerId)return{content:"Non puoi espellere il proprietario del server!",ephemeral:!0};let{rawPosition:l}=m.roles.highest;if(a&&s&&a.roles.highest.rawPosition<=l)return{content:"Non puoi espellere un membro con un ruolo superiore o uguale al tuo!",ephemeral:!0};let{me:u}=r.members;return u.permissions.has(H.KickMembers)?u.roles.highest.rawPosition<=l?{content:"Non posso espellere un membro con un ruolo maggiore o uguale al mio!",ephemeral:!0}:r.members.kick(e,`${a?`Espulso da ${a.user.tag} (${t})`:""}${i==null?"":`${a?": ":""}${i}`}`).then(()=>({content:`<@${e}> (${bt(m.user.tag)} - ${e}) \xE8 stato espulso dal server!${i==null?"":`

Motivo: ${i.length>1e3?`${i.slice(0,1e3)}...`:i}`}`,components:[{type:B.ActionRow,components:[{type:B.Button,label:"Banna",style:we.Danger,custom_id:p("bann",e,o,t)}]}]})).catch(d=>(f.printToStderr(d),{content:`Si \xE8 verificato un errore: \`${d.message}\``,ephemeral:!0})):{content:`Non ho i permessi per espellere membri!
Per favore, autorizzami cliccando il pulsante qui sotto.`,components:[{type:B.ActionRow,components:[{type:B.Button,url:`https://discord.com/api/oauth2/authorize?client_id=${n.application.id}&permissions=${H.KickMembers|u.permissions.bitfield}&scope=${gt.Bot}&guild_id=${o}`,label:"Autorizza",style:we.Link}]}]}};var Dn=async(n,e,o,t,i)=>{let r=BigInt(e)*BigInt(t),a=BigInt(o)*BigInt(i);return{content:`\u2764\uFE0F L'amore tra <@${e}> e <@${o}> \xE8 del ${r>a?a*100n/r:r*100n/a}% \u2764\uFE0F`}};import{ButtonStyle as vt,ComponentType as Ee}from"discord-api-types/v10";var Un=async n=>({content:`Latency is **${n.ws.ping}ms**.`,components:[{type:Ee.ActionRow,components:[{type:Ee.Button,custom_id:p("ping"),label:"Pong!",style:vt.Success,emoji:{name:"\u{1F3D3}"}}]}]});import{ButtonStyle as kt,ComponentType as Oe}from"discord-api-types/v10";var Me=["S\xEC","Certamente","Palese","Fattuale","Ma che me lo chiedi a fare","No","Impossibile","Non ci credi nemmeno tu","L'importante \xE8 crederci","Mi viene da ridere solo a pensarci","Idk","Forse","Opinionabile","Chiedilo a qualcun altro","Non ne ho la pi\xF9 pallida idea"],qn=async(n,e)=>({content:Math.random()<.95?Me[Math.floor(Math.random()*Me.length)]:"MA IO CHE CABBO NE POSSO SAPERE!!!",components:[{type:Oe.ActionRow,components:[{type:Oe.Button,label:"Chiedi nuovamente",style:kt.Primary,emoji:{name:"\u{1F4AC}"},custom_id:p("predict",e)}]}]});import{ButtonStyle as $t,ComponentType as Ae}from"discord-api-types/v10";var Jn=async(n,e,o)=>{if(typeof e!=typeof o)return{content:"Devi specificare sia il minimo che il massimo o nessuno dei due per un numero decimale tra 0 e 1",ephemeral:!0};let t=Number(e),i=Number(o);return{content:`\u{1F3B2} ${w(isNaN(t)?void 0:t,isNaN(i)?void 0:i)}`,components:[{type:Ae.ActionRow,components:[{type:Ae.Button,label:"Genera un altro!",style:$t.Primary,emoji:{name:"\u{1F3B2}"},custom_id:p("randomNumber",e,o)}]}]}};var C=(t=>(t.Discord="discord",t.Process="process",t.Rest="rest",t))(C||{});var I=(t=>(t.rock="\u270A",t.paper="\u270B",t.scissors="\u270C",t))(I||{});var St=["rock","paper","scissors"],wt={rock:"paper",paper:"scissors",scissors:"rock"},ti=async(n,e)=>{let o=St[w(0,2)];return{content:`Hai scelto ${I[e]}
La mia scelta \xE8 ${I[o]}

**${o===e?"Pareggio":wt[o]===e?"Hai vinto":"Hai perso"}**!`}};import{ButtonStyle as Q,ComponentType as E,OAuth2Scopes as Et,PermissionFlagsBits as J}from"discord-api-types/v10";import{escapeMarkdown as Te}from"discord.js";import Ot from"ms";var mi=async(n,e,o,t,i,r)=>{let a=n.guilds.cache.get(o),s=i===void 0?null:await a.members.fetch(i).catch(()=>null),m=i!==a.ownerId;if(m&&s?.permissions.has(J.ModerateMembers)!==!0)return{content:`Non hai abbastanza permessi per usare questo comando!
Permessi richiesti: **Metti i membri in Time out**`,ephemeral:!0};let l=await a.members.fetch(e).catch(()=>null);if(!l)return{content:"L'utente non fa parte del server!",ephemeral:!0};if(e===a.ownerId)return{content:"Non puoi applicare il Time out al proprietario del server!",ephemeral:!0};let{rawPosition:u}=l.roles.highest;if(s&&m&&s.roles.highest.rawPosition<=u)return{content:"Non puoi applicare il Time out ad un membro con un ruolo superiore o uguale al tuo!",ephemeral:!0};let{me:d}=a.members;if(!d.permissions.has(J.ModerateMembers))return{content:`Non ho i permessi per mettere i membri in Time out!
Per favore, autorizzami cliccando il pulsante qui sotto.`,components:[{type:E.ActionRow,components:[{type:E.Button,url:`https://discord.com/api/oauth2/authorize?client_id=${n.application.id}&permissions=${J.ModerateMembers|d.permissions.bitfield}&scope=${Et.Bot}&guild_id=${o}`,label:"Autorizza",style:Q.Link}]}]};if(d.roles.highest.rawPosition<=u)return{content:"Non posso applicare il Time out ad un membro con un ruolo maggiore o uguale al mio!",ephemeral:!0};let c=t?Ot(t):null,v=l.communicationDisabledUntilTimestamp,b=c==null?null:Math.round((Date.now()+c)/1e3);return t==null&&!l.isCommunicationDisabled()?{content:"L'utente non \xE8 in Time out!",ephemeral:!0}:c===void 0||c!=null&&(isNaN(c)||c<=1e3)?{content:"La durata del Time out non \xE8 valida! Specifica una durata valida maggiore di 1 secondo.",ephemeral:!0}:l.timeout(c,`${s?`${c==null?"Annullato":"Applicato"} da ${s.user.tag} (${i})`:""}${r==null?"":`${s?": ":""}${r}`}`).then(()=>c==null?{content:`Ho annullato il Time out a <@${e}> (${Te(l.user.tag)} - ${e})!`,components:[{type:E.ActionRow,components:[{type:E.Button,label:"Applica nuovamente",style:Q.Danger,custom_id:p("timeout",e,o,`${v-Date.now()}ms`,i)}]}]}:{content:`<@${e}> (${Te(l.user.tag)} - ${e}) \xE8 stato messo in timeout fino a <t:${b}:F> (<t:${b}:R>)!${r==null?"":`

Motivo: ${r.length>1e3?`${r.slice(0,1e3)}...`:r}`}`,components:[{type:E.ActionRow,components:[{type:E.Button,label:"Annulla",style:Q.Danger,custom_id:p("timeout",e,o,null,i)}]}]}).catch(h=>(f.printToStderr(h),{content:`Si \xE8 verificato un errore: \`${h.message}\``,ephemeral:!0}))};import{TimestampStyles as Mt}from"@discordjs/builders";import{ButtonStyle as At,ComponentType as Re}from"discord-api-types/v10";var Tt=Object.values(Mt),di=async(n,e,o,t="1",i,r,a)=>{if(typeof e!=typeof o)return{ephemeral:!0,content:"Una timestamp personalizzata richiede sia l'anno che il mese! Se non vuoi una timestamp personalizzata non inserire alcun valore."};let s=Math.round((e===void 0?new Date:new Date(Number(e),Number(o)-1,Number(t),Number(i??0),Number(r??0),Number(a??0))).getTime()/1e3);return{content:`<t:${s}> (\`<t:${s}>\`)

${Tt.map(m=>`<t:${s}:${m}> (\`<t:${s}:${m}>\`)`).join(`
`)}`,components:[{type:Re.ActionRow,components:[{type:Re.Button,label:"Genera nuova!",custom_id:p("timestamp"),style:At.Primary,emoji:{name:"\u231A"}}]}]}};import{ButtonStyle as Pe,ComponentType as N,OAuth2Scopes as Rt,PermissionFlagsBits as Y}from"discord-api-types/v10";import{escapeMarkdown as Pt}from"discord.js";var vi=async(n,e,o,t,i)=>{let r=n.guilds.cache.get(o),a=t===void 0?null:await r.members.fetch(t).catch(()=>null);if(t!==r.ownerId&&a?.permissions.has(Y.BanMembers)!==!0)return{content:`Non hai abbastanza permessi per usare questo comando!
Permessi richiesti: **Bannare i membri**`,ephemeral:!0};let{me:m}=r.members;return m.permissions.has(Y.BanMembers)?!r.bans.cache.has(e)&&!await r.bans.fetch().then(l=>l.has(e))?{content:"Questo utente non \xE8 bannato!",ephemeral:!0}:Promise.all([n.users.fetch(e),r.members.unban(e,`${a?`Sbannato da ${a.user.tag} (${t})`:""}${i==null?"":`${a?": ":""}${i}`}`)]).then(([l])=>({content:`Ho revocato il bann per <@${e}> (${Pt(l.tag)} - ${e})!${i==null?"":`

Motivo: ${i.length>1e3?`${i.slice(0,1e3)}...`:i}`}`,components:[{type:N.ActionRow,components:[{type:N.Button,label:"Banna di nuovo",style:Pe.Danger,custom_id:p("bann",e,o,t)}]}]})).catch(l=>(f.printToStderr(l),{content:`Si \xE8 verificato un errore: \`${l.message}\``,ephemeral:!0})):{content:`Non ho i permessi per sbannare membri!
Per favore, autorizzami cliccando il pulsante qui sotto.`,components:[{type:N.ActionRow,components:[{type:N.Button,url:`https://discord.com/api/oauth2/authorize?client_id=${n.application.id}&permissions=${Y.BanMembers|m.permissions.bitfield}&scope=${Rt.Bot}&guild_id=${o}`,label:"Autorizza",style:Pe.Link}]}]}};import{promises as xt}from"node:fs";import{URL as jt}from"node:url";import{env as xe}from"node:process";var Z=class{client;data;isPublic=!1;_autocomplete;_execute;constructor(e,o){this.client=e,this.patch(o)}get name(){return this.data.name}set name(e){this.data.setName(e)}get description(){return this.data.description}set description(e){this.data.setDescription(e)}async autocomplete(e){try{(this.isPublic||e.user.id===xe.OWNER_ID)&&await this._autocomplete?.(e)}catch(o){f.printToStderr(o,!0)}}patch(e){return e.data!==void 0&&(this.data=e.data),e.autocomplete!==void 0&&(this._autocomplete=e.autocomplete.bind(this)),e.isPublic!==void 0&&(this.isPublic=e.isPublic),e.run!==void 0&&(this._execute=e.run.bind(this)),this}async run(e){try{(this.isPublic||e.user.id===xe.OWNER_ID)&&await this._execute(e)}catch(o){f.printToStderr(o,!0)}}},je=Z;var Bt=async n=>{let e=await xt.readdir(new jt(y.commandsFolderName,import.meta.url)),t=(await Promise.all(e.filter(i=>i.endsWith(".js")).map(i=>import(`./${y.commandsFolderName}/${i}`)))).map(i=>i.command);for(let i of t)n.commands.set(i.data.name,new je(n,i))},Be=Bt;import{promises as Ct}from"node:fs";import{join as It}from"node:path";import{URL as Nt}from"node:url";import D from"node:process";var X=class{client;name;type;on;once;constructor(e,o){this.client=e,this.name=o.name,this.type=o.type,this.patch(o)}patch(e){return this.removeListeners(),e.on!==void 0&&(this.on=e.on.bind(this)),e.once!==void 0&&(this.once=e.once.bind(this)),this.addListeners(),this}addListeners(){if(this.on)switch(this.type){case"discord":this.client.on(this.name,this.on);break;case"rest":this.client.rest.on(this.name,this.on);break;case"process":D.on(this.name,this.on);break;default:}if(this.once)switch(this.type){case"discord":this.client.once(this.name,this.once);break;case"rest":this.client.rest.once(this.name,this.once);break;case"process":D.once(this.name,this.once);break;default:}}removeListeners(){if(this.on)switch(this.type){case"discord":this.client.off(this.name,this.on);break;case"rest":this.client.rest.off(this.name,this.on);break;case"process":D.off(this.name,this.on);break;default:}if(this.once)switch(this.type){case"discord":this.client.off(this.name,this.once);break;case"rest":this.client.rest.off(this.name,this.once);break;case"process":D.off(this.name,this.once);break;default:}}},Ce=X;var Dt=async(n,e)=>{let o=await Ct.readdir(new Nt(It(y.eventsFolderName,e),import.meta.url)),i=(await Promise.all(o.filter(r=>r.endsWith(".js")).map(r=>import(`./${y.eventsFolderName}/${e}/${r}`)))).map(r=>r.event);for(let r of i)n.events.set(r.name,new Ce(n,r))},Ie=Dt;var g=class extends zt{blocked=!1;commands=new Map;events=new Map;constructor(){super({intents:["Guilds","GuildMessages","GuildBans","GuildEmojisAndStickers","GuildPresences","GuildMembers"],allowedMentions:{parse:[],repliedUser:!1,roles:[],users:[]},failIfNotExists:!1,rest:{invalidRequestWarningInterval:9998},makeCache:Ne.cacheWithLimits({...Ne.DefaultMakeCacheSettings,BaseGuildEmojiManager:0,GuildBanManager:100,GuildInviteManager:0,GuildMemberManager:1e3,GuildStickerManager:0,MessageManager:0,PresenceManager:1e4,ReactionManager:0,ReactionUserManager:0,StageInstanceManager:0,ThreadMemberManager:0,UserManager:1e6,VoiceStateManager:0}),presence:{activities:[{name:"MS Gaming",type:Wt.Watching}]},shards:"auto",partials:[$.Channel,$.GuildMember,$.Message,$.Reaction,$.User,$.GuildScheduledEvent,$.ThreadMember],waitGuildTimeout:1e3}),this.rest.raw=e=>(this.rest.emit("request",e),this.rest.requestManager.queueRequest(e))}static inspect(e){switch(typeof e){case"string":return e;case"bigint":case"number":case"boolean":case"function":case"symbol":return e.toString();case"object":return Kt(e);default:return"undefined"}}static logToFile(e){return new Promise(o=>{try{Gt("./debug.log",{flags:"a"}).once("error",g.printToStderr).once("finish",o).setDefaultEncoding("utf8").end(e)}catch(t){g.printToStderr(t)}})}static printToStdout(e,o=!1){let t=g.format(e);_t.write(t),o&&g.logToFile(t)}static printToStderr(e,o=!1){let t=g.format(e);Lt.write(te(t,31)),o&&g.logToFile(t)}static format(e){return`${g.inspect(e)} (${new Date().toLocaleString(void 0,{timeZone:"Europe/Rome"})})
`}async login(){return await Promise.all([Be(this),...Object.values(C).map(e=>Ie(this,e)),Ut(`./${y.databaseFolderName}`).then(e=>Promise.all(e.map(o=>k(o.split(".")[0])))),k("timeouts").then(e=>{e=e.filter(o=>o.date>Date.now());for(let{args:o,date:t,name:i}of e)setTimeout(async()=>{await Promise.all([import(`./util/timeouts/${i}.js`).then(r=>r.default(...o)),k("timeouts").then(r=>S("timeouts",r.filter(a=>a.date!==t)))])},t-Date.now()).unref();return S("timeouts",e)}),pe(this,"")]),super.login()}},f=g;export{qt as a,Qt as b,ze as c,g as d,f as e,lo as f,yo as g,$o as h,pe as i,Co as j,Lo as k,Vo as l,Zo as m,sn as n,cn as o,yn as p,Sn as q,On as r,Rn as s,In as t,Dn as u,Un as v,qn as w,Jn as x,ti as y,mi as z,di as A,vi as B};
//# sourceMappingURL=chunk-OT6DYTTJ.js.map