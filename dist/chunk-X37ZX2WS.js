var B={clientOnlineLabel:"Client online",commandsFolderName:"commands",databaseFolderName:"database",eventsFolderName:"events"},L={kick:"994260465402253442",bann:"994261301364801537"},r=B;import{ActivityType as V}from"discord-api-types/v10";import{Client as W,Collection as O,Options as E,Partials as o}from"discord.js";import{stderr as A,stdout as j}from"node:process";import{inspect as K}from"node:util";var N=(n,e)=>`\x1B[${e}m${n}\x1B[m`,w=N;import{createReadStream as I,createWriteStream as R}from"node:fs";var f=class{promises=[];wait(){let e,i=this.promises.at(-1)?.promise??Promise.resolve(),a=new Promise(t=>{e=t});return this.promises.push({resolve:e,promise:a}),i}next(){this.promises.shift()?.resolve()}},h=f;var d={},c={},y=async(n,e=!1)=>{if(await(d[n]??=new h).wait(),d[n].next(),c[n]!==void 0&&!e)return c[n];let i="";return new Promise((a,t)=>{I(`./${r.databaseFolderName}/${n}.json`).on("data",s=>i+=s).once("end",()=>{try{a(c[n]=JSON.parse(i))}catch(s){t(s)}}).once("error",t).setEncoding("utf8")})},g=async(n,e)=>{if(await(d[n]??=new h).wait(),c[n]===e)return;c[n]=e;let i=new Promise((a,t)=>{R(`./${r.databaseFolderName}/${n}.json`).once("error",t).setDefaultEncoding("utf8").end(JSON.stringify(e),a)});return i.finally(d[n].next.bind(d[n])),i};import{ApplicationCommandType as F}from"discord-api-types/v10";import{readdir as _}from"node:fs/promises";import{env as u}from"node:process";var v=class{client;data;isPrivate=!1;_autocomplete;_component;_modalSubmit;_execute;constructor(e,i){this.client=e,this.patch(i)}async autocomplete(e){try{(!this.isPrivate||u.OWNER_IDS?.includes(e.user.id)===!0)&&await this._autocomplete?.(e)}catch(i){p.printToStderr(i)}}async component(e){try{(!this.isPrivate||u.OWNER_IDS?.includes(e.user.id)===!0)&&await this._component?.(e)}catch(i){p.printToStderr(i)}}async modalSubmit(e){try{(!this.isPrivate||u.OWNER_IDS?.includes(e.user.id)===!0)&&await this._modalSubmit?.(e)}catch(i){p.printToStderr(i)}}patch(e){return e.data!==void 0&&(this.data=e.data),e.autocomplete!==void 0&&(this._autocomplete=e.autocomplete.bind(this)),e.component!==void 0&&(this._component=e.component.bind(this)),e.modalSubmit!==void 0&&(this._modalSubmit=e.modalSubmit.bind(this)),e.isPrivate!==void 0&&(this.isPrivate=e.isPrivate),e.run!==void 0&&(this._execute=e.run.bind(this)),this}async run(e){try{(!this.isPrivate||u.OWNER_IDS?.includes(e.user.id)===!0)&&await this._execute(e)}catch(i){p.printToStderr(i)}}},P=v;var k=async n=>{let e=await _(new URL(r.commandsFolderName,import.meta.url)),a=(await Promise.all(e.filter(t=>t.endsWith(".js")).map(t=>import(`./${r.commandsFolderName}/${t}`)))).map(t=>t.command);for(let t of a)n.commands.set(t.data.find(({type:s})=>s===F.ChatInput)?.name??t.data[0].name,new P(n,t))},T=k;import{promises as D}from"node:fs";import{URL as G}from"node:url";var b=class{client;name;on;once;constructor(e,i){this.client=e,this.name=i.name,this.patch(i)}patch(e){return this.removeListeners(),e.on!==void 0&&(this.on=e.on.bind(this)),e.once!==void 0&&(this.once=e.once.bind(this)),this.addListeners(),this}addListeners(){this.on&&this.client.on(this.name,this.on),this.once&&this.client.once(this.name,this.once)}removeListeners(){this.on&&this.client.off(this.name,this.on),this.once&&this.client.off(this.name,this.once)}},x=b;var $=async n=>{let e=await D.readdir(new G(r.eventsFolderName,import.meta.url)),a=(await Promise.all(e.filter(t=>t.endsWith(".js")).map(t=>import(`./${r.eventsFolderName}/${t}`)))).map(t=>t.event);for(let t of a)n.events.set(t.name,new x(n,t))},S=$;var m=class extends W{commands=new O;events=new O;constructor(){super({intents:["GuildMembers","Guilds","GuildPresences"],allowedMentions:{parse:[],repliedUser:!1,roles:[],users:[]},failIfNotExists:!1,rest:{invalidRequestWarningInterval:9999},makeCache:E.cacheWithLimits({...E.DefaultMakeCacheSettings,BaseGuildEmojiManager:100,GuildBanManager:10,GuildInviteManager:0,GuildMemberManager:1e3,GuildStickerManager:0,MessageManager:0,PresenceManager:10,ReactionManager:0,ReactionUserManager:0,StageInstanceManager:0,ThreadMemberManager:0,UserManager:1e3,VoiceStateManager:0,ApplicationCommandManager:0,GuildScheduledEventManager:0}),presence:{activities:[{name:"MS Gaming",type:V.Watching}]},shards:"auto",partials:[o.Channel,o.GuildMember,o.Message,o.Reaction,o.User,o.GuildScheduledEvent,o.ThreadMember],waitGuildTimeout:1e3})}static inspect(e){switch(typeof e){case"string":return e;case"bigint":case"number":case"boolean":case"function":case"symbol":return e.toString();case"object":return K(e);default:return"undefined"}}static printToStdout(e){j.write(`${m.inspect(e)}
`)}static printToStderr(e){A.write(w(`${m.inspect(e)}
`,31))}async login(e){return await Promise.all([T(this),S(this),y("timeouts").then(i=>{i=i.filter(a=>a.date>Date.now());for(let{args:a,date:t,name:s}of i)setTimeout(async()=>{await Promise.all([import(`./util/timeouts/${s}.js`).then(l=>l.default(...a)),y("timeouts").then(l=>g("timeouts",l.filter(M=>M.date!==t)))])},t-Date.now()).unref();return g("timeouts",i)})]),super.login(e)}},p=m;export{B as a,L as b,r as c,m as d,p as e};
//# sourceMappingURL=chunk-X37ZX2WS.js.map