{"version":3,"sources":["../src/index.ts"],"sourcesContent":["import { config } from \"dotenv\";\r\nimport express from \"express\";\r\nimport process, { env } from \"node:process\";\r\nimport Constants, { CustomClient } from \"./util\";\r\n\r\nCustomClient.printToStdout(\"Starting...\");\r\nif (!(\"DISCORD_TOKEN\" in env)) config();\r\n// eslint-disable-next-line no-console\r\nconsole.time(Constants.clientOnlineLabel);\r\nconst client = new CustomClient();\r\nconst app = express();\r\nconst server = app.listen(3000);\r\n\r\nprocess\r\n\t.on(\"exit\", (code) => {\r\n\t\tCustomClient.printToStdout(`Process exiting with code ${code}...`);\r\n\t\tclient.destroy();\r\n\t\tserver.close();\r\n\t})\r\n\t.on(\"uncaughtException\", (error) => {\r\n\t\tCustomClient.printToStderr(error);\r\n\t\tprocess.exit(1);\r\n\t})\r\n\t.on(\"unhandledRejection\", (error) => {\r\n\t\tCustomClient.printToStderr(error);\r\n\t})\r\n\t.on(\"warning\", (message) => {\r\n\t\tCustomClient.printToStderr(message);\r\n\t});\r\napp.use((_, res) => {\r\n\tres.sendStatus(204);\r\n});\r\n\r\nawait client.login();\r\n"],"mappings":"gFAAA,gCACA,uBACA,sCAGA,EAAa,cAAc,aAAa,EACxC,AAAM,iBAAmB,IAAM,EAAO,EAEtC,QAAQ,KAAK,EAAU,iBAAiB,EACxC,GAAM,GAAS,GAAI,GACb,EAAM,EAAQ,EACd,EAAS,EAAI,OAAO,GAAI,EAE9B,EACE,GAAG,OAAQ,AAAC,GAAS,CACrB,EAAa,cAAc,6BAA6B,MAAS,EACjE,EAAO,QAAQ,EACf,EAAO,MAAM,CACd,CAAC,EACA,GAAG,oBAAqB,AAAC,GAAU,CACnC,EAAa,cAAc,CAAK,EAChC,EAAQ,KAAK,CAAC,CACf,CAAC,EACA,GAAG,qBAAsB,AAAC,GAAU,CACpC,EAAa,cAAc,CAAK,CACjC,CAAC,EACA,GAAG,UAAW,AAAC,GAAY,CAC3B,EAAa,cAAc,CAAO,CACnC,CAAC,EACF,EAAI,IAAI,CAAC,EAAG,IAAQ,CACnB,EAAI,WAAW,GAAG,CACnB,CAAC,EAED,KAAM,GAAO,MAAM","names":[]}