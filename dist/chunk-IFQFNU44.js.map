{"version":3,"sources":["../src/util/calculateRam.ts","../src/util/eval.ts","../src/util/interactions.ts","../src/util/restart.ts","../src/util/index.ts"],"sourcesContent":["import { memoryUsage } from \"node:process\";\r\n\r\nconst digits = 2;\r\n\r\n/**\r\n * Calculate the RAM usage and return a string with the value.\r\n */\r\nexport const calculateRam = () => {\r\n\tconst memory = memoryUsage();\r\n\r\n\treturn `RSS: ${(memory.rss / 1024 / 1024).toFixed(digits)}MB\\nUsed: ${(\r\n\t\tmemory.heapUsed /\r\n\t\t1024 /\r\n\t\t1024\r\n\t).toFixed(digits)}MB\\nTotal: ${(memory.heapTotal / 1024 / 1024).toFixed(\r\n\t\tdigits\r\n\t)}MB\\nExternal: ${(memory.external / 1024 / 1024).toFixed(\r\n\t\tdigits\r\n\t)}MB` as const;\r\n};\r\n\r\nexport default calculateRam;\r\n","import CustomClient from \"./CustomClient\";\r\n\r\n/**\r\n * Execute some code and return the result.\r\n * @param code - The code to execute\r\n * @returns The result of the code\r\n */\r\nexport async function runEval(code: string): Promise<unknown> {\r\n\ttry {\r\n\t\t// eslint-disable-next-line no-useless-call\r\n\t\treturn (await eval.call(null, code)) as unknown;\r\n\t} catch (e) {\r\n\t\treturn e;\r\n\t}\r\n}\r\n\r\n/**\r\n * Execute some code and return the parsed result.\r\n * @param code - The code to execute\r\n * @returns The result of the code\r\n */\r\nexport const parseEval = async (code: string): Promise<string> =>\r\n\tCustomClient.inspect(await runEval(code));\r\n","import type {\r\n\tAutocompleteInteraction,\r\n\tCommandInteraction,\r\n\tCommandInteractionOption,\r\n} from \"discord.js\";\r\n\r\n/**\r\n * Get the command string from an interaction.\r\n * @param interaction - The interaction to stringify\r\n */\r\nexport const interactionCommand = (\r\n\tinteraction: AutocompleteInteraction | CommandInteraction\r\n) => {\r\n\tlet result = `/${interaction.commandName}`;\r\n\tconst resolveOption = (option: CommandInteractionOption) => {\r\n\t\tresult += ` ${option.name}`;\r\n\t\tif (option.value !== undefined)\r\n\t\t\ttry {\r\n\t\t\t\tresult += `:${option.value.toLocaleString()}`;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tresult += `:${option.value.toString()}`;\r\n\t\t\t}\r\n\t\tif (option.options) option.options.forEach(resolveOption);\r\n\t};\r\n\r\n\tinteraction.options.data.forEach(resolveOption);\r\n\treturn result as `/${string}`;\r\n};\r\n","import { spawn } from \"node:child_process\";\r\nimport process, { argv, cwd, exit } from \"node:process\";\r\nimport type CustomClient from \"./CustomClient\";\r\n\r\n/**\r\n * Restarts the process.\r\n * @param client The client to restart\r\n */\r\nexport const restart = (client: CustomClient) => {\r\n\tprocess.once(\"exit\", () => {\r\n\t\tspawn(argv[0], argv.slice(1), {\r\n\t\t\tcwd: cwd(),\r\n\t\t\tdetached: true,\r\n\t\t\tstdio: \"inherit\",\r\n\t\t}).unref();\r\n\t});\r\n\tclient.destroy();\r\n\texit(0);\r\n};\r\n\r\nexport default restart;\r\n","import Constants from \"./Constants\";\r\n\r\nexport * from \"./actions\";\r\nexport * from \"./calculateRam\";\r\nexport * from \"./cast\";\r\nexport * from \"./colors\";\r\nexport * from \"./Command\";\r\nexport * from \"./Constants\";\r\nexport * from \"./CustomClient\";\r\nexport * from \"./database\";\r\nexport * from \"./eval\";\r\nexport * from \"./Event\";\r\nexport * from \"./interactions\";\r\nexport * from \"./loadCommands\";\r\nexport * from \"./loadEvents\";\r\nexport * from \"./occurrences\";\r\nexport * from \"./Queue\";\r\nexport * from \"./randomNumber\";\r\nexport * from \"./restart\";\r\nexport * from \"./types\";\r\n\r\nexport default Constants;\r\n"],"mappings":"2EAAA,2CAEA,GAAM,GAAS,EAKF,EAAe,IAAM,CACjC,GAAM,GAAS,EAAY,EAE3B,MAAO,QAAS,GAAO,IAAM,KAAO,MAAM,QAAQ,CAAM;AAAA,QACvD,GAAO,SACP,KACA,MACC,QAAQ,CAAM;AAAA,SAAgB,GAAO,UAAY,KAAO,MAAM,QAC/D,CACD;AAAA,YAAmB,GAAO,SAAW,KAAO,MAAM,QACjD,CACD,KACD,ECZA,iBAA8B,EAAgC,CAC7D,GAAI,CAEH,MAAQ,MAAM,MAAK,KAAK,KAAM,CAAI,CACnC,OAAS,EAAP,CACD,MAAO,EACR,CACD,CAOO,GAAM,GAAY,KAAO,IAC/B,EAAa,QAAQ,KAAM,GAAQ,CAAI,CAAC,ECZlC,GAAM,GAAqB,AACjC,GACI,CACJ,GAAI,GAAS,IAAI,EAAY,cACvB,EAAgB,AAAC,GAAqC,CAE3D,GADA,GAAU,IAAI,EAAO,OACjB,EAAO,QAAU,OACpB,GAAI,CACH,GAAU,IAAI,EAAO,MAAM,eAAe,GAC3C,MAAE,CACD,GAAU,IAAI,EAAO,MAAM,SAAS,GACrC,CACD,AAAI,EAAO,SAAS,EAAO,QAAQ,QAAQ,CAAa,CACzD,EAEA,SAAY,QAAQ,KAAK,QAAQ,CAAa,EACvC,CACR,EC3BA,2CACA,0DAOO,GAAM,GAAU,AAAC,GAAyB,CAChD,EAAQ,KAAK,OAAQ,IAAM,CAC1B,EAAM,EAAK,GAAI,EAAK,MAAM,CAAC,EAAG,CAC7B,IAAK,EAAI,EACT,SAAU,GACV,MAAO,SACR,CAAC,EAAE,MAAM,CACV,CAAC,EACD,EAAO,QAAQ,EACf,EAAK,CAAC,CACP,ECGA,GAAO,GAAQ","names":[]}