import"./chunk-QQX4XUVK.js";import{a as m}from"./chunk-NJIM6YGF.js";import{REST as d}from"@discordjs/rest";import{APIVersion as l,Routes as t}from"discord-api-types/v10";import{config as c}from"dotenv";import{promises as f}from"node:fs";import{env as r,exit as C}from"node:process";import{URL as I}from"node:url";var p="Register slash commands";"DISCORD_TOKEN"in r||c();console.time(p);var{DISCORD_CLIENT_ID:a,DISCORD_TOKEN:P,TEST_GUILD:u,NODE_ENV:n}=r,s=new d({version:l}).setToken(P),e=await f.readdir(new I(m.commandsFolderName,import.meta.url)).then(o=>Promise.all(o.filter(i=>i.endsWith(".js")).map(async i=>(await import(`./${m.commandsFolderName}/${i}`)).command))),[D,A]=await Promise.all([s.put(t.applicationGuildCommands(a,u),{body:e.filter(o=>n!=="production"||o.isPrivate).flatMap(o=>o.data)}),n==="production"?s.put(t.applicationCommands(a),{body:e.filter(o=>o.isPrivate!==!0).flatMap(o=>o.data)}):[]]);console.log("Public commands:",A);console.log("Private commands:",D);console.timeEnd(p);C(0);
//# sourceMappingURL=registerCommands.js.map