{"version":3,"sources":["../../src/commands/bans.ts"],"sourcesContent":["import { SlashCommandBuilder } from \"@discordjs/builders\";\r\nimport type {\r\n\tInteractionReplyOptions,\r\n\tWebhookEditMessageOptions,\r\n} from \"discord.js\";\r\nimport type { CommandOptions } from \"../util\";\r\nimport { bannList } from \"../util\";\r\n\r\nenum SubCommands {\r\n\tlist = \"list\",\r\n}\r\nenum Options {\r\n\tpage = \"page\",\r\n}\r\n\r\nexport const command: CommandOptions = {\r\n\tdata: new SlashCommandBuilder()\r\n\t\t.setName(\"bans\")\r\n\t\t.setDescription(\"Gestisci i bann del server\")\r\n\t\t.addSubcommand((list) =>\r\n\t\t\tlist\r\n\t\t\t\t.setName(SubCommands.list)\r\n\t\t\t\t.setDescription(\"Mostra tutti i bann del server\")\r\n\t\t\t\t.addIntegerOption((page) =>\r\n\t\t\t\t\tpage\r\n\t\t\t\t\t\t.setName(Options.page)\r\n\t\t\t\t\t\t.setDescription(\"Pagina da mostrare - Ogni pagina contiene 25 bann\")\r\n\t\t\t\t)\r\n\t\t),\r\n\tisPublic: true,\r\n\tasync run(interaction) {\r\n\t\tlet options: InteractionReplyOptions & WebhookEditMessageOptions;\r\n\r\n\t\tswitch (interaction.options.getSubcommand()) {\r\n\t\t\tcase SubCommands.list:\r\n\t\t\t\tif (!interaction.inCachedGuild()) {\r\n\t\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\t\"Questo comando Ã¨ disponibile solo all'interno dei server!\",\r\n\t\t\t\t\t\tephemeral: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst page = interaction.options.getInteger(Options.page);\r\n\r\n\t\t\t\toptions = await bannList(\r\n\t\t\t\t\tthis.client,\r\n\t\t\t\t\tinteraction.guildId,\r\n\t\t\t\t\tpage != null ? `${page - 1}` : undefined\r\n\t\t\t\t);\r\n\r\n\t\t\t\tawait interaction.reply(options);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tawait interaction.reply(\"Comando non riconosciuto.\");\r\n\t\t}\r\n\t},\r\n};\r\n"],"mappings":"mGAAA,0DAeO,GAAM,GAA0B,CACtC,KAAM,GAAI,GAAoB,EAC5B,QAAQ,MAAM,EACd,eAAe,4BAA4B,EAC3C,cAAc,AAAC,GACf,EACE,QAAQ,MAAgB,EACxB,eAAe,gCAAgC,EAC/C,iBAAiB,AAAC,GAClB,EACE,QAAQ,MAAY,EACpB,eAAe,mDAAmD,CACrE,CACF,EACD,SAAU,GACV,KAAM,KAAI,EAAa,CACtB,GAAI,GAEJ,OAAQ,EAAY,QAAQ,cAAc,OACpC,OACJ,GAAI,CAAC,EAAY,cAAc,EAAG,CACjC,KAAM,GAAY,MAAM,CACvB,QACC,+DACD,UAAW,EACZ,CAAC,EACD,MACD,CACA,GAAM,GAAO,EAAY,QAAQ,WAAW,MAAY,EAExD,EAAU,KAAM,GACf,KAAK,OACL,EAAY,QACZ,GAAQ,KAAO,GAAG,EAAO,IAAM,MAChC,EAEA,KAAM,GAAY,MAAM,CAAO,EAC/B,cAEA,KAAM,GAAY,MAAM,2BAA2B,EAEtD,CACD","names":[]}