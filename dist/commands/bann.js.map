{"version":3,"sources":["../../src/commands/bann.ts"],"sourcesContent":["import { SlashCommandBuilder } from \"@discordjs/builders\";\r\nimport type { CommandOptions } from \"../util\";\r\nimport { bann } from \"../util\";\r\n\r\nenum Options {\r\n\tuser = \"utente\",\r\n\tdeleteMessageDays = \"elimina-messaggi\",\r\n\treason = \"motivo\",\r\n\tduration = \"durata\",\r\n}\r\n\r\nexport const command: CommandOptions = {\r\n\tdata: new SlashCommandBuilder()\r\n\t\t.setName(\"bann\")\r\n\t\t.setDescription(\"Banna un membro dal server\")\r\n\t\t.addUserOption((user) =>\r\n\t\t\tuser\r\n\t\t\t\t.setName(Options.user)\r\n\t\t\t\t.setDescription(\"L'utente da bannare\")\r\n\t\t\t\t.setRequired(true)\r\n\t\t)\r\n\t\t.addIntegerOption((deleteMessageDays) =>\r\n\t\t\tdeleteMessageDays\r\n\t\t\t\t.setName(Options.deleteMessageDays)\r\n\t\t\t\t.setDescription(\r\n\t\t\t\t\t\"Quanti giorni eliminare della sua cronologia dei messaggi recenti (0 - 7)\"\r\n\t\t\t\t)\r\n\t\t\t\t.setMinValue(0)\r\n\t\t\t\t.setMaxValue(7)\r\n\t\t)\r\n\t\t.addStringOption((duration) =>\r\n\t\t\tduration\r\n\t\t\t\t.setName(Options.duration)\r\n\t\t\t\t.setDescription(\"Durata del bann. (Es: 1d)\")\r\n\t\t)\r\n\t\t.addStringOption((reason) =>\r\n\t\t\treason\r\n\t\t\t\t.setName(Options.reason)\r\n\t\t\t\t.setDescription(\"Il motivo per cui bannare l'utente\")\r\n\t\t),\r\n\tisPublic: true,\r\n\tasync run(interaction) {\r\n\t\tif (!interaction.inCachedGuild()) {\r\n\t\t\tawait interaction.reply({\r\n\t\t\t\tcontent: \"Questo comando Ã¨ disponibile solo all'interno dei server!\",\r\n\t\t\t\tephemeral: true,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst [options] = await Promise.all([\r\n\t\t\tbann(\r\n\t\t\t\tthis.client,\r\n\t\t\t\tinteraction.options.getUser(Options.user, true).id,\r\n\t\t\t\tinteraction.guildId,\r\n\t\t\t\tinteraction.user.id,\r\n\t\t\t\tinteraction.options.getString(Options.reason) ?? undefined,\r\n\t\t\t\t`${interaction.options.getInteger(Options.deleteMessageDays) ?? \"\"}` ||\r\n\t\t\t\t\tundefined,\r\n\t\t\t\tinteraction.options.getString(Options.duration) ?? undefined\r\n\t\t\t),\r\n\t\t\tinteraction.deferReply(),\r\n\t\t]);\r\n\r\n\t\tawait interaction.editReply(options);\r\n\t},\r\n};\r\n"],"mappings":"mGAAA,0DAWO,GAAM,GAA0B,CACtC,KAAM,GAAI,GAAoB,EAC5B,QAAQ,MAAM,EACd,eAAe,4BAA4B,EAC3C,cAAc,AAAC,GACf,EACE,QAAQ,QAAY,EACpB,eAAe,qBAAqB,EACpC,YAAY,EAAI,CACnB,EACC,iBAAiB,AAAC,GAClB,EACE,QAAQ,kBAAyB,EACjC,eACA,2EACD,EACC,YAAY,CAAC,EACb,YAAY,CAAC,CAChB,EACC,gBAAgB,AAAC,GACjB,EACE,QAAQ,QAAgB,EACxB,eAAe,2BAA2B,CAC7C,EACC,gBAAgB,AAAC,GACjB,EACE,QAAQ,QAAc,EACtB,eAAe,oCAAoC,CACtD,EACD,SAAU,GACV,KAAM,KAAI,EAAa,CACtB,GAAI,CAAC,EAAY,cAAc,EAAG,CACjC,KAAM,GAAY,MAAM,CACvB,QAAS,+DACT,UAAW,EACZ,CAAC,EACD,MACD,CACA,GAAM,CAAC,GAAW,KAAM,SAAQ,IAAI,CACnC,EACC,KAAK,OACL,EAAY,QAAQ,QAAQ,SAAc,EAAI,EAAE,GAChD,EAAY,QACZ,EAAY,KAAK,GACjB,EAAY,QAAQ,UAAU,QAAc,GAAK,OACjD,GAAG,EAAY,QAAQ,WAAW,kBAAyB,GAAK,MAC/D,OACD,EAAY,QAAQ,UAAU,QAAgB,GAAK,MACpD,EACA,EAAY,WAAW,CACxB,CAAC,EAED,KAAM,GAAY,UAAU,CAAO,CACpC,CACD","names":[]}