{"version":3,"sources":["../../src/commands/love.ts"],"sourcesContent":["import {\n\tApplicationCommandOptionType,\n\tApplicationCommandType,\n} from \"discord-api-types/v10\";\nimport { createCommand } from \"../util\";\n\nconst emojis = [\n\t\":broken_heart:\",\n\t\":mending_heart:\",\n\t\":heart:\",\n\t\":sparkling_heart:\",\n\t\":cupid:\",\n\t\":heartpulse:\",\n\t\":gift_heart:\",\n\t\":heartbeat:\",\n\t\":two_hearts:\",\n\t\":revolving_hearts:\",\n\t\":heart_on_fire:\",\n];\n\nexport const command = createCommand({\n\tdata: [\n\t\t{\n\t\t\tname: \"love\",\n\t\t\tdescription: \"Calcola l'amore tra due utenti üíì\",\n\t\t\ttype: ApplicationCommandType.ChatInput,\n\t\t\toptions: [\n\t\t\t\t{\n\t\t\t\t\tname: \"user1\",\n\t\t\t\t\tdescription: \"Il primo utente\",\n\t\t\t\t\ttype: ApplicationCommandOptionType.User,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"user2\",\n\t\t\t\t\tdescription: \"Il secondo utente (default: tu)\",\n\t\t\t\t\ttype: ApplicationCommandOptionType.User,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t],\n\tasync run(interaction) {\n\t\t// eslint-disable-next-line prefer-const\n\t\tlet [{ user: user1 }, { user: user2 }] = interaction.options.data;\n\n\t\tuser2 ??= interaction.user;\n\t\tif (!user1) {\n\t\t\tawait interaction.reply({\n\t\t\t\tcontent: \"Utente non trovato!\",\n\t\t\t\tephemeral: true,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tconst bigint1 = BigInt(user1.id) * BigInt(user1.discriminator);\n\t\tconst bigint2 = BigInt(user2.id) * BigInt(user2.discriminator);\n\t\tconst loveRate =\n\t\t\tbigint1 > bigint2\n\t\t\t\t? (bigint2 * 100n) / bigint1\n\t\t\t\t: (bigint1 * 100n) / bigint2;\n\t\tconst emoji = emojis[Math.floor(Number(loveRate) / 10)] ?? \"‚ù§Ô∏è\";\n\n\t\tawait interaction.reply({\n\t\t\tcontent: `${emoji} L'amore tra <@${user1.id}> e <@${user2.id}> √® del **${loveRate}%** ${emoji}`,\n\t\t});\n\t},\n});\n"],"mappings":"sEAAA,iGAMA,GAAM,GAAS,CACd,iBACA,kBACA,UACA,oBACA,UACA,eACA,eACA,cACA,eACA,qBACA,iBACD,EAEa,EAAU,EAAc,CACpC,KAAM,CACL,CACC,KAAM,OACN,YAAa,2CACb,KAAM,EAAuB,UAC7B,QAAS,CACR,CACC,KAAM,QACN,YAAa,kBACb,KAAM,EAA6B,KACnC,SAAU,EACX,EACA,CACC,KAAM,QACN,YAAa,kCACb,KAAM,EAA6B,IACpC,CACD,CACD,CACD,EACA,KAAM,KAAI,EAAa,CAEtB,GAAI,CAAC,CAAE,KAAM,GAAS,CAAE,KAAM,IAAW,EAAY,QAAQ,KAG7D,GADA,IAAU,EAAY,KAClB,CAAC,EAAO,CACX,KAAM,GAAY,MAAM,CACvB,QAAS,sBACT,UAAW,EACZ,CAAC,EACD,MACD,CACA,GAAM,GAAU,OAAO,EAAM,EAAE,EAAI,OAAO,EAAM,aAAa,EACvD,EAAU,OAAO,EAAM,EAAE,EAAI,OAAO,EAAM,aAAa,EACvD,EACL,EAAU,EACN,EAAU,KAAQ,EAClB,EAAU,KAAQ,EACjB,EAAQ,EAAO,KAAK,MAAM,OAAO,CAAQ,EAAI,EAAE,IAAM,eAE3D,KAAM,GAAY,MAAM,CACvB,QAAS,GAAG,mBAAuB,EAAM,WAAW,EAAM,kBAAe,QAAe,GACzF,CAAC,CACF,CACD,CAAC","names":[]}