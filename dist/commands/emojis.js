import"../chunk-IFQFNU44.js";import{k as s,l as a,o as n,p as d,q as r}from"../chunk-XV3K5JED.js";import"../chunk-B7NPBJ6H.js";import{SlashCommandBuilder as l}from"@discordjs/builders";var u={data:new l().setName("emojis").setDescription("Gestisci le emoji del server").addSubcommand(e=>e.setName("list").setDescription("Mostra tutte le emoji del server").addIntegerOption(i=>i.setName("page").setDescription("Pagina da mostrare - Ogni pagina contiene 25 emoji").setMaxValue(10))).addSubcommand(e=>e.setName("info").setDescription("Mostra le informazioni di un emoji").addStringOption(i=>i.setName("emoji").setDescription("L'emoji da cercare").setAutocomplete(!0).setRequired(!0))).addSubcommand(e=>e.setName("create").setDescription("Carica un emoji").addAttachmentOption(i=>i.setName("file").setDescription("L'immagine da caricare. Tipo: .png, .jpg, .gif, .webp. Dimensione max: 256kb").setRequired(!0)).addStringOption(i=>i.setName("name").setDescription("Il nome dell'emoji, lungo almeno 2 caratteri e con solo caratteri alfanumerici e trattini bassi").setRequired(!0)).addStringOption(i=>i.setName("reason").setDescription("Il motivo per cui stai caricando l'emoji")).addRoleOption(i=>i.setName("role").setDescription("Il ruolo che pu\xF2 utilizzare questa emoji"))).addSubcommand(e=>e.setName("delete").setDescription("Elimina un emoji").addStringOption(i=>i.setName("emoji").setDescription("L'emoji da eliminare").setAutocomplete(!0).setRequired(!0)).addStringOption(i=>i.setName("reason").setDescription("Il motivo per cui stai eliminando l'emoji"))).addSubcommand(e=>e.setName("edit").setDescription("Modifica un emoji").addStringOption(i=>i.setName("emoji").setDescription("L'emoji da modificare").setAutocomplete(!0).setRequired(!0)).addStringOption(i=>i.setName("name").setDescription("Il nuovo nome dell'emoji")).addRoleOption(i=>i.setName("role").setDescription("Il ruolo che pu\xF2 utilizzare questa emoji")).addStringOption(i=>i.setName("reason").setDescription("Il motivo per cui stai modificando l'emoji"))),isPublic:!0,async run(e){let i;switch(e.options.getSubcommand()){case"list":if(!e.inCachedGuild()){await e.reply({content:"Questo comando \xE8 disponibile solo all'interno dei server!",ephemeral:!0});return}let t=e.options.getInteger("page");i=await r(this.client,e.guildId,t!=null?`${t-1}`:void 0),await e.reply(i);break;case"info":i=await d(this.client,e.options.getString("emoji",!0),e.guildId??void 0),await e.reply(i);break;case"create":if(!e.inCachedGuild()){await e.reply({content:"Questo comando \xE8 disponibile solo all'interno dei server!",ephemeral:!0});return}[i]=await Promise.all([s(this.client,e.guildId,e.options.getAttachment("file",!0).proxyURL,e.options.getString("name",!0),e.user.id,e.options.getString("reason")??void 0,...[e.options.getRole("role")?.id].filter(o=>o!=null)),e.deferReply()]),await e.editReply(i);break;case"delete":if(!e.inCachedGuild()){await e.reply({content:"Questo comando \xE8 disponibile solo all'interno dei server!",ephemeral:!0});return}[i]=await Promise.all([a(this.client,e.options.getString("emoji",!0),e.guildId,e.user.id,e.options.getString("reason")??void 0),e.deferReply()]),await e.editReply(i);break;case"edit":if(!e.inCachedGuild()){await e.reply({content:"Questo comando \xE8 disponibile solo all'interno dei server!",ephemeral:!0});return}[i]=await Promise.all([n(this.client,e.options.getString("emoji",!0),e.guildId,e.options.getString("name")??void 0,e.user.id,e.options.getString("reason")??void 0,...[e.options.getRole("role")?.id].filter(o=>o!=null)),e.deferReply()]),await e.editReply(i);break;default:await e.reply("Comando non riconosciuto.")}},async autocomplete(e){let i=e.options.getFocused(!0);switch(i.name){case"emoji":i.value=i.value.toString().toLowerCase();let t=e.guild?.emojis.cache.filter(o=>o.name!=null&&(o.name.toLowerCase().includes(i.value)||o.id.includes(i.value)));if(!t||t.size<=0)return e.respond([]);await e.respond(t.first(25).map(o=>({name:`${o.name} (${o.id})`,value:o.id})));break;default:return e.respond([])}}};export{u as command};
//# sourceMappingURL=emojis.js.map