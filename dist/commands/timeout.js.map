{"version":3,"sources":["../../src/commands/timeout.ts"],"sourcesContent":["import { SlashCommandBuilder } from \"@discordjs/builders\";\r\nimport type { CommandOptions } from \"../util\";\r\nimport { timeout } from \"../util\";\r\n\r\nenum Options {\r\n\tmember = \"membro\",\r\n\treason = \"motivo\",\r\n\tduration = \"durata\",\r\n}\r\n\r\nexport const command: CommandOptions = {\r\n\tdata: new SlashCommandBuilder()\r\n\t\t.setName(\"timeout\")\r\n\t\t.setDescription(\"Applica il Time out ad un membro del server\")\r\n\t\t.addUserOption((member) =>\r\n\t\t\tmember\r\n\t\t\t\t.setName(Options.member)\r\n\t\t\t\t.setDescription(\"Il membro da mettere in Time out\")\r\n\t\t\t\t.setRequired(true)\r\n\t\t)\r\n\t\t.addStringOption((duration) =>\r\n\t\t\tduration\r\n\t\t\t\t.setName(Options.duration)\r\n\t\t\t\t.setDescription(\r\n\t\t\t\t\t\"La durata del Time out. Lascia vuoto per annullare il timeout\"\r\n\t\t\t\t)\r\n\t\t)\r\n\t\t.addStringOption((reason) =>\r\n\t\t\treason.setName(Options.reason).setDescription(\"Il motivo del Time out\")\r\n\t\t),\r\n\tisPublic: true,\r\n\tasync run(interaction) {\r\n\t\tif (!interaction.inCachedGuild()) {\r\n\t\t\tawait interaction.reply({\r\n\t\t\t\tcontent: \"Questo comando Ã¨ disponibile solo all'interno dei server!\",\r\n\t\t\t\tephemeral: true,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst [options] = await Promise.all([\r\n\t\t\ttimeout(\r\n\t\t\t\tthis.client,\r\n\t\t\t\tinteraction.options.getUser(Options.member, true).id,\r\n\t\t\t\tinteraction.guildId,\r\n\t\t\t\tinteraction.options.getString(Options.duration),\r\n\t\t\t\tinteraction.user.id,\r\n\t\t\t\tinteraction.options.getString(Options.reason) ?? undefined\r\n\t\t\t),\r\n\t\t\tinteraction.deferReply(),\r\n\t\t]);\r\n\r\n\t\tawait interaction.editReply(options);\r\n\t},\r\n};\r\n"],"mappings":"mGAAA,0DAUO,GAAM,GAA0B,CACtC,KAAM,GAAI,GAAoB,EAC5B,QAAQ,SAAS,EACjB,eAAe,6CAA6C,EAC5D,cAAc,AAAC,GACf,EACE,QAAQ,QAAc,EACtB,eAAe,kCAAkC,EACjD,YAAY,EAAI,CACnB,EACC,gBAAgB,AAAC,GACjB,EACE,QAAQ,QAAgB,EACxB,eACA,+DACD,CACF,EACC,gBAAgB,AAAC,GACjB,EAAO,QAAQ,QAAc,EAAE,eAAe,wBAAwB,CACvE,EACD,SAAU,GACV,KAAM,KAAI,EAAa,CACtB,GAAI,CAAC,EAAY,cAAc,EAAG,CACjC,KAAM,GAAY,MAAM,CACvB,QAAS,+DACT,UAAW,EACZ,CAAC,EACD,MACD,CACA,GAAM,CAAC,GAAW,KAAM,SAAQ,IAAI,CACnC,EACC,KAAK,OACL,EAAY,QAAQ,QAAQ,SAAgB,EAAI,EAAE,GAClD,EAAY,QACZ,EAAY,QAAQ,UAAU,QAAgB,EAC9C,EAAY,KAAK,GACjB,EAAY,QAAQ,UAAU,QAAc,GAAK,MAClD,EACA,EAAY,WAAW,CACxB,CAAC,EAED,KAAM,GAAY,UAAU,CAAO,CACpC,CACD","names":[]}