{"version":3,"sources":["../../src/commands/poll.ts"],"sourcesContent":["import {\n\tApplicationCommandOptionType,\n\tApplicationCommandType,\n} from \"discord-api-types/v10\";\nimport { createCommand } from \"../util\";\n\nexport const command = createCommand({\n\tdata: [\n\t\t{\n\t\t\tname: \"poll\",\n\t\t\tdescription: \"Crea un sondaggio\",\n\t\t\ttype: ApplicationCommandType.ChatInput,\n\t\t\toptions: [\n\t\t\t\t{\n\t\t\t\t\tname: \"question\",\n\t\t\t\t\tdescription: \"La domanda da porre\",\n\t\t\t\t\ttype: ApplicationCommandOptionType.String,\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmin_length: 1,\n\t\t\t\t\tmax_length: 256,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t],\n\tasync run(interaction) {\n\t\tconst title = interaction.options.data[0].value;\n\n\t\tif (typeof title !== \"string\") {\n\t\t\tawait interaction.reply({\n\t\t\t\tcontent: \"Domanda non valida!\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tawait interaction\n\t\t\t.reply({\n\t\t\t\tembeds: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tauthor: {\n\t\t\t\t\t\t\tname: interaction.user.tag,\n\t\t\t\t\t\t\ticon_url:\n\t\t\t\t\t\t\t\tinteraction.user.avatarURL({ extension: \"png\" }) ?? undefined,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 0xfd6500,\n\t\t\t\t\t\tdescription: \"✅ **Sì**\\n\\n❌ **No**\",\n\t\t\t\t\t\ttimestamp: new Date().toISOString(),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tfetchReply: true,\n\t\t\t})\n\t\t\t.then((r) => Promise.all([r.react(\"✅\"), r.react(\"❌\")]));\n\t},\n});\n"],"mappings":"sEAAA,iGAMO,GAAM,GAAU,EAAc,CACpC,KAAM,CACL,CACC,KAAM,OACN,YAAa,oBACb,KAAM,EAAuB,UAC7B,QAAS,CACR,CACC,KAAM,WACN,YAAa,sBACb,KAAM,EAA6B,OACnC,SAAU,GACV,WAAY,EACZ,WAAY,GACb,CACD,CACD,CACD,EACA,KAAM,KAAI,EAAa,CACtB,GAAM,GAAQ,EAAY,QAAQ,KAAK,GAAG,MAE1C,GAAI,MAAO,IAAU,SAAU,CAC9B,KAAM,GAAY,MAAM,CACvB,QAAS,qBACV,CAAC,EACD,MACD,CACA,KAAM,GACJ,MAAM,CACN,OAAQ,CACP,CACC,QACA,OAAQ,CACP,KAAM,EAAY,KAAK,IACvB,SACC,EAAY,KAAK,UAAU,CAAE,UAAW,KAAM,CAAC,GAAK,MACtD,EACA,MAAO,SACP,YAAa;AAAA;AAAA,eACb,UAAW,GAAI,MAAK,EAAE,YAAY,CACnC,CACD,EACA,WAAY,EACb,CAAC,EACA,KAAK,AAAC,GAAM,QAAQ,IAAI,CAAC,EAAE,MAAM,QAAG,EAAG,EAAE,MAAM,QAAG,CAAC,CAAC,CAAC,CACxD,CACD,CAAC","names":[]}