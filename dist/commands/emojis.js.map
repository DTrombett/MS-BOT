{"version":3,"sources":["../../src/commands/emojis.ts"],"sourcesContent":["import {\r\n\tApplicationCommandOptionType,\r\n\tApplicationCommandType,\r\n\tButtonStyle,\r\n\tComponentType,\r\n\tGuildPremiumTier,\r\n} from \"discord-api-types/v10\";\r\nimport type { Attachment, Guild, GuildEmoji } from \"discord.js\";\r\nimport { escapeMarkdown } from \"discord.js\";\r\nimport type { ReceivedInteraction } from \"../util\";\r\nimport {\r\n\tcreateCommand,\r\n\tCustomClient,\r\n\tnormalizeError,\r\n\tsendError,\r\n} from \"../util\";\r\n\r\nconst emojiLimit: Record<GuildPremiumTier, number> = {\r\n\t[GuildPremiumTier.None]: 50,\r\n\t[GuildPremiumTier.Tier1]: 100,\r\n\t[GuildPremiumTier.Tier2]: 150,\r\n\t[GuildPremiumTier.Tier3]: 250,\r\n};\r\nconst checkPerms = async (\r\n\tinteraction: ReceivedInteraction<\"cached\">,\r\n\townerId: string\r\n) => {\r\n\tif (\r\n\t\tinteraction.user.id !== ownerId &&\r\n\t\t!interaction.memberPermissions.has(\"ManageEmojisAndStickers\")\r\n\t) {\r\n\t\tawait interaction.reply({\r\n\t\t\tcontent: \"Hai bisogno del permesso **Gestire emoji e adesivi**\",\r\n\t\t\tephemeral: true,\r\n\t\t});\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n};\r\nconst deleteEmoji = async (\r\n\tinteraction: ReceivedInteraction<\"cached\">,\r\n\tguild: Guild,\r\n\temoji?: string,\r\n\treason?: string\r\n) => {\r\n\tif (!emoji!) {\r\n\t\tawait interaction.reply({\r\n\t\t\tcontent: \"Emoji non valida!\",\r\n\t\t\tephemeral: true,\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\tif (interaction.appPermissions?.has(\"ManageEmojisAndStickers\") !== true) {\r\n\t\tawait interaction.reply({\r\n\t\t\tcontent: \"Ho bisogno del permesso **Gestire emoji e adesivi**!\",\r\n\t\t\tephemeral: true,\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\tconst result = await guild.emojis\r\n\t\t.delete(emoji, reason! || undefined)\r\n\t\t.catch(normalizeError);\r\n\r\n\tif (result instanceof Error) {\r\n\t\tawait sendError(interaction, result);\r\n\t\treturn;\r\n\t}\r\n\tawait interaction.reply({\r\n\t\tcontent: \"Emoji rimossa con successo!\",\r\n\t});\r\n};\r\nconst emojiInfo = async (\r\n\tinteraction: ReceivedInteraction<\"cached\">,\r\n\temoji?: GuildEmoji,\r\n\tephemeral?: boolean\r\n) => {\r\n\tif (!emoji) {\r\n\t\tawait interaction.reply({\r\n\t\t\tcontent: \"Non hai specificato un'emoji valida!\",\r\n\t\t\tephemeral: true,\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\tconst createdTimestamp = Math.round(emoji.createdTimestamp / 1000);\r\n\tconst { roles } = emoji;\r\n\r\n\tawait interaction.reply({\r\n\t\tcontent: `${emoji.toString()} [${emoji.name ?? \"emoji\"}](${emoji.url}) (${\r\n\t\t\temoji.id\r\n\t\t})\\n\\nAnimata: **${\r\n\t\t\temoji.animated ?? false ? \"Sì\" : \"No\"\r\n\t\t}**\\nCreata <t:${createdTimestamp}:F> (<t:${createdTimestamp}:R>)\\nGestita da un integrazione: **${\r\n\t\t\temoji.managed === true ? \"Sì\" : \"No\"\r\n\t\t}**${\r\n\t\t\temoji.author\r\n\t\t\t\t? `\\nAutore: <@${emoji.author.id}> (**${escapeMarkdown(\r\n\t\t\t\t\t\temoji.author.tag\r\n\t\t\t\t  )}**)`\r\n\t\t\t\t: \"\"\r\n\t\t}${\r\n\t\t\troles.cache.size > 0\r\n\t\t\t\t? `\\nRuoli consentiti: ${roles.cache\r\n\t\t\t\t\t\t.map((r) => `<@&${r.id}>`)\r\n\t\t\t\t\t\t.join(\", \")}`\r\n\t\t\t\t: \"\"\r\n\t\t}`,\r\n\t\tephemeral,\r\n\t\tcomponents: [\r\n\t\t\t{\r\n\t\t\t\ttype: ComponentType.ActionRow,\r\n\t\t\t\tcomponents: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: ComponentType.Button,\r\n\t\t\t\t\t\tcustom_id: `emoji-${emoji.id}-i`,\r\n\t\t\t\t\t\tstyle: ButtonStyle.Primary,\r\n\t\t\t\t\t\tlabel: \"Info\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: ComponentType.Button,\r\n\t\t\t\t\t\tcustom_id: `emoji-${emoji.id}-r`,\r\n\t\t\t\t\t\tstyle: ButtonStyle.Danger,\r\n\t\t\t\t\t\tlabel: \"Rimuovi\",\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t],\r\n\t});\r\n};\r\n\r\nexport const command = createCommand({\r\n\tdata: [\r\n\t\t{\r\n\t\t\ttype: ApplicationCommandType.ChatInput,\r\n\t\t\tname: \"emoji\",\r\n\t\t\tdescription: \"Gestisci le emoji del server\",\r\n\t\t\toptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: ApplicationCommandOptionType.Subcommand,\r\n\t\t\t\t\tname: \"add\",\r\n\t\t\t\t\tdescription: \"Aggiungi un emoji\",\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.Attachment,\r\n\t\t\t\t\t\t\tname: \"emoji\",\r\n\t\t\t\t\t\t\tdescription: \"L'emoji da aggiungere\",\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.String,\r\n\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\tdescription: \"Il nome dell'emoji\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.String,\r\n\t\t\t\t\t\t\tname: \"roles\",\r\n\t\t\t\t\t\t\tdescription: \"Lista di ruoli che possono usare l'emoji\",\r\n\t\t\t\t\t\t\tautocomplete: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.String,\r\n\t\t\t\t\t\t\tname: \"reason\",\r\n\t\t\t\t\t\t\tdescription: \"La motivazione per l'aggiunta, se presente\",\r\n\t\t\t\t\t\t\tmax_length: 512,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: ApplicationCommandOptionType.Subcommand,\r\n\t\t\t\t\tname: \"remove\",\r\n\t\t\t\t\tdescription: \"Rimuovi un emoji\",\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.String,\r\n\t\t\t\t\t\t\tname: \"emoji\",\r\n\t\t\t\t\t\t\tdescription: \"L'emoji da rimuovere\",\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tautocomplete: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.String,\r\n\t\t\t\t\t\t\tname: \"reason\",\r\n\t\t\t\t\t\t\tdescription: \"La motivazione per la rimozione, se presente\",\r\n\t\t\t\t\t\t\tmax_length: 512,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: ApplicationCommandOptionType.Subcommand,\r\n\t\t\t\t\tname: \"edit\",\r\n\t\t\t\t\tdescription: \"Modifica un emoji\",\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.String,\r\n\t\t\t\t\t\t\tname: \"emoji\",\r\n\t\t\t\t\t\t\tdescription: \"L'emoji da modificare\",\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tautocomplete: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.String,\r\n\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\tdescription: \"Il nuovo nome dell'emoji\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.String,\r\n\t\t\t\t\t\t\tname: \"roles\",\r\n\t\t\t\t\t\t\tdescription: \"Lista di ruoli che possono usare l'emoji\",\r\n\t\t\t\t\t\t\tautocomplete: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.String,\r\n\t\t\t\t\t\t\tname: \"reason\",\r\n\t\t\t\t\t\t\tdescription: \"La motivazione per la modifica, se presente\",\r\n\t\t\t\t\t\t\tmax_length: 512,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: ApplicationCommandOptionType.Subcommand,\r\n\t\t\t\t\tname: \"info\",\r\n\t\t\t\t\tdescription: \"Mostra le informazioni di un emoji\",\r\n\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ApplicationCommandOptionType.String,\r\n\t\t\t\t\t\t\tname: \"emoji\",\r\n\t\t\t\t\t\t\tdescription: \"L'emoji da cercare\",\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tautocomplete: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t],\r\n\tasync run(interaction) {\r\n\t\tif (!interaction.inCachedGuild()) {\r\n\t\t\tawait interaction.reply({\r\n\t\t\t\tcontent:\r\n\t\t\t\t\t\"Questo comando può essere usato solo all'interno di un server!\",\r\n\t\t\t\tephemeral: true,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst [{ options: data, name: subcommand }] = interaction.options.data;\r\n\r\n\t\tif (!data) {\r\n\t\t\tawait interaction.reply({\r\n\t\t\t\tcontent: \"Questo comando non è attualmente disponibile!\",\r\n\t\t\t\tephemeral: true,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { guild } = interaction;\r\n\r\n\t\tif (subcommand === \"add\") {\r\n\t\t\tif (await checkPerms(interaction, guild.ownerId)) return;\r\n\t\t\tlet emoji: Attachment | undefined,\r\n\t\t\t\tname: string | undefined,\r\n\t\t\t\treason: string | undefined,\r\n\t\t\t\troles: string[] | undefined;\r\n\r\n\t\t\tfor (const option of data)\r\n\t\t\t\tif (option.name === \"emoji\") emoji = option.attachment;\r\n\t\t\t\telse if (option.name === \"name\")\r\n\t\t\t\t\tname = typeof option.value === \"string\" ? option.value : undefined;\r\n\t\t\t\telse if (option.name === \"roles\")\r\n\t\t\t\t\troles = (typeof option.value === \"string\" ? option.value : undefined)\r\n\t\t\t\t\t\t?.split(/\\s*,\\s*/)\r\n\t\t\t\t\t\t.map((r) => {\r\n\t\t\t\t\t\t\tr = r.toLowerCase();\r\n\t\t\t\t\t\t\treturn /^\\d{17,20}$/.test(r)\r\n\t\t\t\t\t\t\t\t? r\r\n\t\t\t\t\t\t\t\t: /^<@&\\d{17,20}>$/.test(r)\r\n\t\t\t\t\t\t\t\t? r.slice(3, -1)\r\n\t\t\t\t\t\t\t\t: guild.roles.cache.find((role) =>\r\n\t\t\t\t\t\t\t\t\t\trole.name.toLowerCase().startsWith(r)\r\n\t\t\t\t\t\t\t\t  )?.id;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.filter((r): r is string => r !== undefined);\r\n\t\t\t\telse if (option.name === \"reason\")\r\n\t\t\t\t\treason = typeof option.value === \"string\" ? option.value : undefined;\r\n\t\t\tif (\r\n\t\t\t\t!emoji ||\r\n\t\t\t\t![\"image/png\", \"image/jpeg\", \"image/jpg\", \"image/gif\"].includes(\r\n\t\t\t\t\temoji.contentType!\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\tcontent: \"Emoji non valida!\",\r\n\t\t\t\t\tephemeral: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tname ||= emoji.name?.split(\".\")[0];\r\n\t\t\tif (!name!) {\r\n\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\"Non hai specificato un nome per l'emoji e l'immagine non ha un nome valido!\",\r\n\t\t\t\t\tephemeral: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (name.length < 2 || name.length > 32) {\r\n\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\"Il nome dell'emoji deve essere compreso tra 2 e 32 caratteri!\",\r\n\t\t\t\t\tephemeral: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!/^[a-zA-Z0-9-_]+$/.test(name)) {\r\n\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\tcontent: \"Il nome dell'emoji contiene caratteri non validi!\",\r\n\t\t\t\t\tephemeral: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (emoji.size >= 256 * 1024) {\r\n\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\tcontent: \"L'emoji deve essere più piccola di 256kb!\",\r\n\t\t\t\t\tephemeral: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (guild.emojis.cache.size >= emojiLimit[guild.premiumTier]) {\r\n\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\tcontent: `Hai raggiunto il limite di emoji per questo server! (${\r\n\t\t\t\t\t\temojiLimit[guild.premiumTier]\r\n\t\t\t\t\t})!`,\r\n\t\t\t\t\tephemeral: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (interaction.appPermissions?.has(\"ManageEmojisAndStickers\") !== true) {\r\n\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\tcontent: \"Ho bisogno del permesso **Gestire emoji e adesivi**!\",\r\n\t\t\t\t\tephemeral: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst [result] = await Promise.all([\r\n\t\t\t\tguild.emojis\r\n\t\t\t\t\t.create({\r\n\t\t\t\t\t\tattachment: emoji.url,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\treason: reason! || undefined,\r\n\t\t\t\t\t\troles,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(normalizeError),\r\n\t\t\t\tinteraction.deferReply().catch(CustomClient.printToStderr),\r\n\t\t\t]);\r\n\r\n\t\t\tif (result instanceof Error) {\r\n\t\t\t\tawait sendError(interaction, result);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst createdTimestamp = Math.round(result.createdTimestamp / 1000);\r\n\r\n\t\t\tawait interaction.editReply({\r\n\t\t\t\tcontent: `${result.toString()} Emoji [${result.name!}](${\r\n\t\t\t\t\tresult.url\r\n\t\t\t\t}) (${result.id}) aggiunta con successo!\\n\\nAnimata: **${\r\n\t\t\t\t\tresult.animated ?? false ? \"Sì\" : \"No\"\r\n\t\t\t\t}**\\nCreata <t:${createdTimestamp}:F> (<t:${createdTimestamp}:R>)${\r\n\t\t\t\t\troles && roles.length > 0\r\n\t\t\t\t\t\t? `\\nRuoli consentiti: ${roles.map((r) => `<@&${r}>`).join(\", \")}`\r\n\t\t\t\t\t\t: \"\"\r\n\t\t\t\t}`,\r\n\t\t\t\tcomponents: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: ComponentType.ActionRow,\r\n\t\t\t\t\t\tcomponents: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: ComponentType.Button,\r\n\t\t\t\t\t\t\t\tcustom_id: `emoji-${result.id}-i`,\r\n\t\t\t\t\t\t\t\tstyle: ButtonStyle.Primary,\r\n\t\t\t\t\t\t\t\tlabel: \"Info\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: ComponentType.Button,\r\n\t\t\t\t\t\t\t\tcustom_id: `emoji-${result.id}-r`,\r\n\t\t\t\t\t\t\t\tstyle: ButtonStyle.Danger,\r\n\t\t\t\t\t\t\t\tlabel: \"Rimuovi\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (subcommand === \"remove\") {\r\n\t\t\tif (await checkPerms(interaction, guild.ownerId)) return;\r\n\t\t\tlet emoji: string | undefined, reason: string | undefined;\r\n\r\n\t\t\tfor (const option of data)\r\n\t\t\t\tif (option.name === \"emoji\") {\r\n\t\t\t\t\tif (typeof option.value !== \"string\") continue;\r\n\t\t\t\t\tconst v = option.value.trim().toLowerCase();\r\n\r\n\t\t\t\t\temoji = /^\\d{17,20}$/.test(v)\r\n\t\t\t\t\t\t? v\r\n\t\t\t\t\t\t: /^<a?:[a-zA-Z0-9-_]+:\\d{17,20}>$/.test(v)\r\n\t\t\t\t\t\t? v.replace(/^<:[a-zA-Z0-9-_]+:/, \"\").replace(/>$/, \"\")\r\n\t\t\t\t\t\t: guild.emojis.cache.find(\r\n\t\t\t\t\t\t\t\t(e) => e.deletable && e.name?.toLowerCase() === v\r\n\t\t\t\t\t\t  )?.id;\r\n\t\t\t\t} else if (option.name === \"reason\")\r\n\t\t\t\t\treason = typeof option.value === \"string\" ? option.value : undefined;\r\n\t\t\tawait deleteEmoji(interaction, guild, emoji, reason);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (subcommand === \"edit\") {\r\n\t\t\tif (await checkPerms(interaction, guild.ownerId)) return;\r\n\t\t\tlet emoji: string | undefined,\r\n\t\t\t\tname: string | undefined,\r\n\t\t\t\treason: string | undefined,\r\n\t\t\t\troles: string[] | undefined;\r\n\r\n\t\t\tfor (const option of data)\r\n\t\t\t\tif (option.name === \"emoji\") {\r\n\t\t\t\t\tif (typeof option.value !== \"string\") continue;\r\n\t\t\t\t\tconst v = option.value.trim().toLowerCase();\r\n\r\n\t\t\t\t\temoji = /^\\d{17,20}$/.test(v)\r\n\t\t\t\t\t\t? v\r\n\t\t\t\t\t\t: /^<a?:[a-zA-Z0-9-_]+:\\d{17,20}>$/.test(v)\r\n\t\t\t\t\t\t? v.replace(/^<:[a-zA-Z0-9-_]+:/, \"\").replace(/>$/, \"\")\r\n\t\t\t\t\t\t: guild.emojis.cache.find(\r\n\t\t\t\t\t\t\t\t(e) => e.deletable && e.name?.toLowerCase() === v\r\n\t\t\t\t\t\t  )?.id;\r\n\t\t\t\t} else if (option.name === \"name\")\r\n\t\t\t\t\tname = typeof option.value === \"string\" ? option.value : undefined;\r\n\t\t\t\telse if (option.name === \"roles\")\r\n\t\t\t\t\troles = (typeof option.value === \"string\" ? option.value : undefined)\r\n\t\t\t\t\t\t?.split(/\\s*,\\s*/)\r\n\t\t\t\t\t\t.map((r) => {\r\n\t\t\t\t\t\t\tr = r.toLowerCase();\r\n\t\t\t\t\t\t\treturn /^\\d{17,20}$/.test(r)\r\n\t\t\t\t\t\t\t\t? r\r\n\t\t\t\t\t\t\t\t: /^<@&\\d{17,20}>$/.test(r)\r\n\t\t\t\t\t\t\t\t? r.slice(3, -1)\r\n\t\t\t\t\t\t\t\t: guild.roles.cache.find((role) =>\r\n\t\t\t\t\t\t\t\t\t\trole.name.toLowerCase().startsWith(r)\r\n\t\t\t\t\t\t\t\t  )?.id;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.filter((r): r is string => r !== undefined);\r\n\t\t\t\telse if (option.name === \"reason\")\r\n\t\t\t\t\treason = typeof option.value === \"string\" ? option.value : undefined;\r\n\t\t\tif (!emoji!) {\r\n\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\tcontent: \"Non hai specificato un'emoji valida!\",\r\n\t\t\t\t\tephemeral: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (name!) {\r\n\t\t\t\tif (name.length < 2 || name.length > 32) {\r\n\t\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\t\"Il nome dell'emoji deve essere compreso tra 2 e 32 caratteri!\",\r\n\t\t\t\t\t\tephemeral: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!/^[a-zA-Z0-9-_]+$/.test(name)) {\r\n\t\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\t\tcontent: \"Il nome dell'emoji contiene caratteri non validi!\",\r\n\t\t\t\t\t\tephemeral: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (interaction.appPermissions?.has(\"ManageEmojisAndStickers\") !== true) {\r\n\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\tcontent: \"Ho bisogno del permesso **Gestire emoji e adesivi**!\",\r\n\t\t\t\t\tephemeral: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst result = await guild.emojis\r\n\t\t\t\t.edit(emoji, {\r\n\t\t\t\t\tname,\r\n\t\t\t\t\treason: reason! || undefined,\r\n\t\t\t\t\troles,\r\n\t\t\t\t})\r\n\t\t\t\t.catch(normalizeError);\r\n\r\n\t\t\tif (result instanceof Error) {\r\n\t\t\t\tawait sendError(interaction, result);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst createdTimestamp = Math.round(result.createdTimestamp / 1000);\r\n\r\n\t\t\tawait interaction.reply({\r\n\t\t\t\tcontent: `${result.toString()} Emoji [${result.name!}](${\r\n\t\t\t\t\tresult.url\r\n\t\t\t\t}) (${result.id}) modificata con successo!\\n\\nAnimata: **${\r\n\t\t\t\t\tresult.animated ?? false ? \"Sì\" : \"No\"\r\n\t\t\t\t}**\\nCreata <t:${createdTimestamp}:F> (<t:${createdTimestamp}:R>)${\r\n\t\t\t\t\troles && roles.length > 0\r\n\t\t\t\t\t\t? `\\nRuoli consentiti: ${roles.map((r) => `<@&${r}>`).join(\", \")}`\r\n\t\t\t\t\t\t: \"\"\r\n\t\t\t\t}`,\r\n\t\t\t\tcomponents: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: ComponentType.ActionRow,\r\n\t\t\t\t\t\tcomponents: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: ComponentType.Button,\r\n\t\t\t\t\t\t\t\tcustom_id: `emoji-${result.id}-i`,\r\n\t\t\t\t\t\t\t\tstyle: ButtonStyle.Primary,\r\n\t\t\t\t\t\t\t\tlabel: \"Info\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: ComponentType.Button,\r\n\t\t\t\t\t\t\t\tcustom_id: `emoji-${result.id}-r`,\r\n\t\t\t\t\t\t\t\tstyle: ButtonStyle.Danger,\r\n\t\t\t\t\t\t\t\tlabel: \"Rimuovi\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (subcommand === \"info\") {\r\n\t\t\tlet value = data.find((option) => option.name === \"emoji\")?.value;\r\n\r\n\t\t\tif (typeof value !== \"string\") {\r\n\t\t\t\tawait interaction.reply({\r\n\t\t\t\t\tcontent: \"Non hai specificato un'emoji valida!\",\r\n\t\t\t\t\tephemeral: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvalue = value.trim().toLowerCase();\r\n\t\t\tawait emojiInfo(\r\n\t\t\t\tinteraction,\r\n\t\t\t\tawait (/^\\d{17,20}$/.test(value)\r\n\t\t\t\t\t? guild.emojis.fetch(value).catch(() => undefined)\r\n\t\t\t\t\t: /^<a?:[a-zA-Z0-9-_]+:\\d{17,20}>$/.test(value)\r\n\t\t\t\t\t? guild.emojis\r\n\t\t\t\t\t\t\t.fetch(value.replace(/(^<:[a-zA-Z0-9-_]+:)|(>$)/, \"\"))\r\n\t\t\t\t\t\t\t.catch(() => undefined)\r\n\t\t\t\t\t: guild.emojis.cache.find((e) => e.name?.toLowerCase() === value))\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tasync component(interaction) {\r\n\t\tif (!interaction.inCachedGuild()) {\r\n\t\t\tawait interaction.reply({\r\n\t\t\t\tcontent:\r\n\t\t\t\t\t\"Questo comando può essere usato solo all'interno di un server!\",\r\n\t\t\t\tephemeral: true,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst [, id, action] = interaction.customId.split(\"-\");\r\n\t\tconst { guild } = interaction;\r\n\r\n\t\tif (action === \"r\") {\r\n\t\t\tif (await checkPerms(interaction, guild.ownerId)) return;\r\n\t\t\tawait deleteEmoji(interaction, guild, id);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (action === \"i\")\r\n\t\t\tawait emojiInfo(\r\n\t\t\t\tinteraction,\r\n\t\t\t\tawait guild.emojis.fetch(id).catch(() => undefined),\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t},\r\n\tasync autocomplete(interaction) {\r\n\t\tif (!interaction.inCachedGuild()) return;\r\n\t\tconst { guild } = interaction;\r\n\t\tconst option = interaction.options.getFocused(true);\r\n\r\n\t\tif (typeof option.value !== \"string\") return;\r\n\t\tif (option.name === \"emoji\") {\r\n\t\t\toption.value = option.value.trim().toLowerCase();\r\n\t\t\tconst emojis = option.value\r\n\t\t\t\t? /^\\d{2,20}$/.test(option.value)\r\n\t\t\t\t\t? guild.emojis.cache.filter(\r\n\t\t\t\t\t\t\t(e): e is typeof e & { name: string } =>\r\n\t\t\t\t\t\t\t\te.id.startsWith(option.value) && e.name != null\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: guild.emojis.cache.filter(\r\n\t\t\t\t\t\t\t(e): e is typeof e & { name: string } =>\r\n\t\t\t\t\t\t\t\te.name?.toLowerCase().startsWith(option.value) ?? false\r\n\t\t\t\t\t  )\r\n\t\t\t\t: guild.emojis.cache.filter(\r\n\t\t\t\t\t\t(e): e is typeof e & { name: string } => e.name != null\r\n\t\t\t\t  );\r\n\r\n\t\t\tawait interaction.respond(\r\n\t\t\t\temojis.first(25).map((e) => ({\r\n\t\t\t\t\tname: e.name,\r\n\t\t\t\t\tvalue: e.id,\r\n\t\t\t\t}))\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (option.name === \"roles\") {\r\n\t\t\toption.value = option.value.trim();\r\n\t\t\tconst split = option.value.split(/\\s*,\\s*/);\r\n\t\t\tconst old = split.slice(0, -1);\r\n\t\t\tconst value = split.at(-1)!.toLowerCase();\r\n\t\t\tconst roles = option.value\r\n\t\t\t\t? /^\\d{2,20}$/.test(value)\r\n\t\t\t\t\t? guild.roles.cache.filter(\r\n\t\t\t\t\t\t\t(r) => r.id.startsWith(value) && !old.includes(r.name)\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: guild.roles.cache.filter(\r\n\t\t\t\t\t\t\t(r) =>\r\n\t\t\t\t\t\t\t\tr.name.toLowerCase().startsWith(value) && !old.includes(r.name)\r\n\t\t\t\t\t  )\r\n\t\t\t\t: guild.roles.cache;\r\n\r\n\t\t\tawait interaction.respond(\r\n\t\t\t\troles.map((r) => {\r\n\t\t\t\t\tconst name = old.concat([r.name]).join(\", \");\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\tvalue: name,\r\n\t\t\t\t\t};\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n});\r\n"],"mappings":"gGAAA,2JAQA,4CASA,GAAM,GAA+C,CACpD,CAAC,EAAiB,MAAO,GACzB,CAAC,EAAiB,OAAQ,IAC1B,CAAC,EAAiB,OAAQ,IAC1B,CAAC,EAAiB,OAAQ,GAC3B,EACM,EAAa,MAClB,EACA,IAGC,EAAY,KAAK,KAAO,GACxB,CAAC,EAAY,kBAAkB,IAAI,yBAAyB,EAE5D,MAAM,GAAY,MAAM,CACvB,QAAS,uDACT,UAAW,EACZ,CAAC,EACM,IAED,GAEF,EAAc,MACnB,EACA,EACA,EACA,IACI,CACJ,GAAI,CAAC,EAAQ,CACZ,KAAM,GAAY,MAAM,CACvB,QAAS,oBACT,UAAW,EACZ,CAAC,EACD,MACD,CACA,GAAI,EAAY,gBAAgB,IAAI,yBAAyB,IAAM,GAAM,CACxE,KAAM,GAAY,MAAM,CACvB,QAAS,uDACT,UAAW,EACZ,CAAC,EACD,MACD,CACA,GAAM,GAAS,KAAM,GAAM,OACzB,OAAO,EAAO,GAAW,MAAS,EAClC,MAAM,CAAc,EAEtB,GAAI,YAAkB,OAAO,CAC5B,KAAM,GAAU,EAAa,CAAM,EACnC,MACD,CACA,KAAM,GAAY,MAAM,CACvB,QAAS,6BACV,CAAC,CACF,EACM,EAAY,MACjB,EACA,EACA,IACI,CACJ,GAAI,CAAC,EAAO,CACX,KAAM,GAAY,MAAM,CACvB,QAAS,uCACT,UAAW,EACZ,CAAC,EACD,MACD,CACA,GAAM,GAAmB,KAAK,MAAM,EAAM,iBAAmB,GAAI,EAC3D,CAAE,SAAU,EAElB,KAAM,GAAY,MAAM,CACvB,QAAS,GAAG,EAAM,SAAS,MAAM,EAAM,MAAQ,YAAY,EAAM,SAChE,EAAM;AAAA;AAAA,aAEN,EAAM,UAAY,GAAQ,QAAO;AAAA,YACjB,YAA2B;AAAA,gCAC3C,EAAM,UAAY,GAAO,QAAO,SAEhC,EAAM,OACH;AAAA,YAAe,EAAM,OAAO,UAAU,EACtC,EAAM,OAAO,GACb,OACA,KAEH,EAAM,MAAM,KAAO,EAChB;AAAA,oBAAuB,EAAM,MAC5B,IAAI,AAAC,GAAM,MAAM,EAAE,KAAK,EACxB,KAAK,IAAI,IACV,KAEJ,YACA,WAAY,CACX,CACC,KAAM,EAAc,UACpB,WAAY,CACX,CACC,KAAM,EAAc,OACpB,UAAW,SAAS,EAAM,OAC1B,MAAO,EAAY,QACnB,MAAO,MACR,EACA,CACC,KAAM,EAAc,OACpB,UAAW,SAAS,EAAM,OAC1B,MAAO,EAAY,OACnB,MAAO,SACR,CACD,CACD,CACD,CACD,CAAC,CACF,EAEa,EAAU,EAAc,CACpC,KAAM,CACL,CACC,KAAM,EAAuB,UAC7B,KAAM,QACN,YAAa,+BACb,QAAS,CACR,CACC,KAAM,EAA6B,WACnC,KAAM,MACN,YAAa,oBACb,QAAS,CACR,CACC,KAAM,EAA6B,WACnC,KAAM,QACN,YAAa,wBACb,SAAU,EACX,EACA,CACC,KAAM,EAA6B,OACnC,KAAM,OACN,YAAa,oBACd,EACA,CACC,KAAM,EAA6B,OACnC,KAAM,QACN,YAAa,2CACb,aAAc,EACf,EACA,CACC,KAAM,EAA6B,OACnC,KAAM,SACN,YAAa,6CACb,WAAY,GACb,CACD,CACD,EACA,CACC,KAAM,EAA6B,WACnC,KAAM,SACN,YAAa,mBACb,QAAS,CACR,CACC,KAAM,EAA6B,OACnC,KAAM,QACN,YAAa,uBACb,SAAU,GACV,aAAc,EACf,EACA,CACC,KAAM,EAA6B,OACnC,KAAM,SACN,YAAa,+CACb,WAAY,GACb,CACD,CACD,EACA,CACC,KAAM,EAA6B,WACnC,KAAM,OACN,YAAa,oBACb,QAAS,CACR,CACC,KAAM,EAA6B,OACnC,KAAM,QACN,YAAa,wBACb,SAAU,GACV,aAAc,EACf,EACA,CACC,KAAM,EAA6B,OACnC,KAAM,OACN,YAAa,0BACd,EACA,CACC,KAAM,EAA6B,OACnC,KAAM,QACN,YAAa,2CACb,aAAc,EACf,EACA,CACC,KAAM,EAA6B,OACnC,KAAM,SACN,YAAa,8CACb,WAAY,GACb,CACD,CACD,EACA,CACC,KAAM,EAA6B,WACnC,KAAM,OACN,YAAa,qCACb,QAAS,CACR,CACC,KAAM,EAA6B,OACnC,KAAM,QACN,YAAa,qBACb,SAAU,GACV,aAAc,EACf,CACD,CACD,CACD,CACD,CACD,EACA,KAAM,KAAI,EAA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","names":[]}