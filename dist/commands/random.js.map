{"version":3,"sources":["../../src/commands/random.ts"],"sourcesContent":["import {\n\tApplicationCommandOptionType,\n\tApplicationCommandType,\n\tButtonStyle,\n\tComponentType,\n} from \"discord-api-types/v10\";\nimport type { ReceivedInteraction } from \"../util\";\nimport { createCommand, randomNumber } from \"../util\";\n\ntype RandomOptions = {\n\tmin?: number;\n\tmax?: number;\n};\n\nconst random = async (\n\tinteraction: ReceivedInteraction,\n\toptions: RandomOptions = {},\n\tephemeral?: boolean\n) => {\n\tif (typeof options.min !== typeof options.max) {\n\t\tawait interaction.reply({\n\t\t\tcontent:\n\t\t\t\t\"Devi specificare sia il minimo che il massimo o nessuno dei due se vuoi un numero decimale tra 0 e 1\",\n\t\t\tephemeral: true,\n\t\t});\n\t\treturn;\n\t}\n\tawait interaction.reply({\n\t\tcontent: `ðŸŽ² ${randomNumber(options.min!, options.max!)}`,\n\t\tcomponents: [\n\t\t\t{\n\t\t\t\ttype: ComponentType.ActionRow,\n\t\t\t\tcomponents: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: ComponentType.Button,\n\t\t\t\t\t\tlabel: \"Genera un altro!\",\n\t\t\t\t\t\tstyle: ButtonStyle.Primary,\n\t\t\t\t\t\temoji: { name: \"ðŸŽ²\" },\n\t\t\t\t\t\tcustom_id: `random-${options.min ?? \".\"}-${options.max ?? \".\"}`,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t\tephemeral,\n\t});\n};\n\nexport const command = createCommand({\n\tdata: [\n\t\t{\n\t\t\tname: \"random\",\n\t\t\tdescription:\n\t\t\t\t\"Genera un numero casuale tra due numeri o, se non specificati, genera un numero decimale tra 0 e 1\",\n\t\t\ttype: ApplicationCommandType.ChatInput,\n\t\t\toptions: [\n\t\t\t\t{\n\t\t\t\t\tname: \"min\",\n\t\t\t\t\tdescription: \"Il numero minimo\",\n\t\t\t\t\ttype: ApplicationCommandOptionType.Integer,\n\t\t\t\t\tmin_value: Number.MIN_SAFE_INTEGER,\n\t\t\t\t\tmax_value: Number.MAX_SAFE_INTEGER - 1,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"max\",\n\t\t\t\t\tdescription: \"Il numero massimo\",\n\t\t\t\t\ttype: ApplicationCommandOptionType.Integer,\n\t\t\t\t\tmin_value: Number.MIN_SAFE_INTEGER + 1,\n\t\t\t\t\tmax_value: Number.MAX_SAFE_INTEGER,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t],\n\tasync run(interaction) {\n\t\tconst options: RandomOptions = {};\n\n\t\tfor (const option of interaction.options.data)\n\t\t\tif (typeof option.value === \"number\")\n\t\t\t\toptions[option.name as keyof RandomOptions] = option.value;\n\t\tawait random(interaction, options);\n\t},\n\tasync component(interaction) {\n\t\tconst [, min, max] = interaction.customId.split(\"-\");\n\n\t\tawait random(\n\t\t\tinteraction,\n\t\t\t{ min: Number(min) || undefined, max: Number(max) || undefined },\n\t\t\ttrue\n\t\t);\n\t},\n});\n"],"mappings":"6EAAA,qIAcA,GAAM,GAAS,MACd,EACA,EAAyB,CAAC,EAC1B,IACI,CACJ,GAAI,MAAO,GAAQ,KAAQ,MAAO,GAAQ,IAAK,CAC9C,KAAM,GAAY,MAAM,CACvB,QACC,uGACD,UAAW,EACZ,CAAC,EACD,MACD,CACA,KAAM,GAAY,MAAM,CACvB,QAAS,aAAM,EAAa,EAAQ,IAAM,EAAQ,GAAI,IACtD,WAAY,CACX,CACC,KAAM,EAAc,UACpB,WAAY,CACX,CACC,KAAM,EAAc,OACpB,MAAO,mBACP,MAAO,EAAY,QACnB,MAAO,CAAE,KAAM,WAAK,EACpB,UAAW,UAAU,EAAQ,KAAO,OAAO,EAAQ,KAAO,KAC3D,CACD,CACD,CACD,EACA,WACD,CAAC,CACF,EAEa,EAAU,EAAc,CACpC,KAAM,CACL,CACC,KAAM,SACN,YACC,qGACD,KAAM,EAAuB,UAC7B,QAAS,CACR,CACC,KAAM,MACN,YAAa,mBACb,KAAM,EAA6B,QACnC,UAAW,OAAO,iBAClB,UAAW,OAAO,iBAAmB,CACtC,EACA,CACC,KAAM,MACN,YAAa,oBACb,KAAM,EAA6B,QACnC,UAAW,OAAO,iBAAmB,EACrC,UAAW,OAAO,gBACnB,CACD,CACD,CACD,EACA,KAAM,KAAI,EAAa,CACtB,GAAM,GAAyB,CAAC,EAEhC,OAAW,KAAU,GAAY,QAAQ,KACxC,AAAI,MAAO,GAAO,OAAU,UAC3B,GAAQ,EAAO,MAA+B,EAAO,OACvD,KAAM,GAAO,EAAa,CAAO,CAClC,EACA,KAAM,WAAU,EAAa,CAC5B,GAAM,CAAC,CAAE,EAAK,GAAO,EAAY,SAAS,MAAM,GAAG,EAEnD,KAAM,GACL,EACA,CAAE,IAAK,OAAO,CAAG,GAAK,OAAW,IAAK,OAAO,CAAG,GAAK,MAAU,EAC/D,EACD,CACD,CACD,CAAC","names":[]}