{"version":3,"sources":["../../src/commands/banner.ts"],"sourcesContent":["import {\r\n\tApplicationCommandOptionType,\r\n\tApplicationCommandType,\r\n\tButtonStyle,\r\n\tComponentType,\r\n} from \"discord-api-types/v10\";\r\nimport { escapeMarkdown } from \"discord.js\";\r\nimport { createCommand } from \"../util\";\r\n\r\nexport const command = createCommand({\r\n\tdata: [\r\n\t\t{\r\n\t\t\tname: \"banner\",\r\n\t\t\tdescription: \"Mostra il banner di un utente\",\r\n\t\t\ttype: ApplicationCommandType.ChatInput,\r\n\t\t\toptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: \"user\",\r\n\t\t\t\t\tdescription: \"L'utente di cui mostrare il banner\",\r\n\t\t\t\t\ttype: ApplicationCommandOptionType.User,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t],\r\n\tasync run(interaction) {\r\n\t\tconst option =\r\n\t\t\tinteraction.options.data.find(\r\n\t\t\t\t(o) => o.type === ApplicationCommandOptionType.User\r\n\t\t\t) ?? interaction;\r\n\t\tlet user = option.user ?? interaction.user;\r\n\t\tif (user.banner === undefined) user = await user.fetch(true);\r\n\t\tif (user.banner == null) {\r\n\t\t\tawait interaction.reply({\r\n\t\t\t\tcontent: \"L'utente non ha un banner!\",\r\n\t\t\t\tephemeral: true,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst url = user.bannerURL({\r\n\t\t\textension: \"png\",\r\n\t\t\tsize: 4096,\r\n\t\t})!;\r\n\r\n\t\tawait interaction.reply({\r\n\t\t\tcontent: `Banner di **[${escapeMarkdown(user.username)}](${url} )**:`,\r\n\t\t\tcomponents: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: ComponentType.ActionRow,\r\n\t\t\t\t\tcomponents: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: ComponentType.Button,\r\n\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\tstyle: ButtonStyle.Link,\r\n\t\t\t\t\t\t\tlabel: \"Apri l'originale\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t});\r\n\t},\r\n});\r\n"],"mappings":"sEAAA,qIAMA,4CAGO,GAAM,GAAU,EAAc,CACpC,KAAM,CACL,CACC,KAAM,SACN,YAAa,gCACb,KAAM,EAAuB,UAC7B,QAAS,CACR,CACC,KAAM,OACN,YAAa,qCACb,KAAM,EAA6B,IACpC,CACD,CACD,CACD,EACA,KAAM,KAAI,EAAa,CAKtB,GAAI,GAAO,AAHV,GAAY,QAAQ,KAAK,KACxB,AAAC,GAAM,EAAE,OAAS,EAA6B,IAChD,GAAK,GACY,MAAQ,EAAY,KAEtC,GADI,EAAK,SAAW,QAAW,GAAO,KAAM,GAAK,MAAM,EAAI,GACvD,EAAK,QAAU,KAAM,CACxB,KAAM,GAAY,MAAM,CACvB,QAAS,6BACT,UAAW,EACZ,CAAC,EACD,MACD,CACA,GAAM,GAAM,EAAK,UAAU,CAC1B,UAAW,MACX,KAAM,IACP,CAAC,EAED,KAAM,GAAY,MAAM,CACvB,QAAS,gBAAgB,EAAe,EAAK,QAAQ,MAAM,SAC3D,WAAY,CACX,CACC,KAAM,EAAc,UACpB,WAAY,CACX,CACC,KAAM,EAAc,OACpB,MACA,MAAO,EAAY,KACnB,MAAO,kBACR,CACD,CACD,CACD,CACD,CAAC,CACF,CACD,CAAC","names":[]}